<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Silicon Labs EFM32 USB Stack: USB_HOST</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.6.3 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>USB_HOST<br/>
<small>
[<a class="el" href="group__USB.html">USB</a>]</small>
</h1>
<p>USB HOST protocol stack, see <a class="el" href="usb__host.html">USB host stack library</a> page for detailed documentation.  
<a href="#_details">More...</a></p>

<p><div class="dynheader">
Collaboration diagram for USB_HOST:</div>
<div class="dynsection">
<center><table><tr><td><img src="group__USB__HOST.png" border="0" alt="" usemap="#group____USB____HOST_map"/>
<map name="group____USB____HOST_map" id="group____USB____HOST">
<area shape="rect" id="node2" href="group__USB.html" title="USB HOST and DEVICE protocol stacks." alt="" coords="6,5,53,32"/></map></td></tr></table></center>
</div>
</p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structUSBH__Ep__TypeDef.html">USBH_Ep_TypeDef</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">USB HOST endpoint status data.  <a href="structUSBH__Ep__TypeDef.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structUSBH__Device__TypeDef.html">USBH_Device_TypeDef</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">USB HOST device definition.  <a href="structUSBH__Device__TypeDef.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structUSBH__Init__TypeDef.html">USBH_Init_TypeDef</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">USB Host stack initialization structure.  <a href="structUSBH__Init__TypeDef.html#_details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__USB__HOST.html#ga4d1c6a944470a42cd40e4eac28a1402f">USB_VBUSOVRCUR_PORT_NONE</a>&nbsp;&nbsp;&nbsp;-1</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">No overcurrent flag functionality.  <a href="#ga4d1c6a944470a42cd40e4eac28a1402f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__USB__HOST.html#gad5f204c3862e9c3d6dd469e98ea7c456">USB_VBUSOVRCUR_POLARITY_LOW</a>&nbsp;&nbsp;&nbsp;0</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Overcurrent flag pin polarity is low.  <a href="#gad5f204c3862e9c3d6dd469e98ea7c456"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__USB__HOST.html#ga011ca5b4422ca0d7b2ac5baae77f6b99">USB_VBUSOVRCUR_POLARITY_HIGH</a>&nbsp;&nbsp;&nbsp;1</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Overcurrent flag pin polarity is high.  <a href="#ga011ca5b4422ca0d7b2ac5baae77f6b99"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__USB__HOST.html#gae4f0c44025ac0a0a70bdbd8ebebbd3f1">USBH_INIT_DEFAULT</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Default <a class="el" href="structUSBH__Init__TypeDef.html">USBH_Init_TypeDef</a> values, provides reasonable Tx/Rx FIFO partitioning.  <a href="#gae4f0c44025ac0a0a70bdbd8ebebbd3f1"></a><br/></td></tr>
<tr><td colspan="2"><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structUSBH__Device__TypeDef.html">USBH_Device_TypeDef</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__USB__HOST.html#ga5ccbba1464980cf59277cd2a6765c14d">USBH_Device_TypeDef</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">USB HOST device definition.  <a href="#ga5ccbba1464980cf59277cd2a6765c14d"></a><br/></td></tr>
<tr><td colspan="2"><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__USB__HOST.html#ga34852d3ee651fb11751f21ccfc6bfcc2">USBH_EpState_TypeDef</a> { <br/>
&nbsp;&nbsp;<a class="el" href="group__USB__HOST.html#gga34852d3ee651fb11751f21ccfc6bfcc2acd80bb986620028db2b94739d20e59f6">H_EP_IDLE</a> =  0, 
<br/>
&nbsp;&nbsp;<a class="el" href="group__USB__HOST.html#gga34852d3ee651fb11751f21ccfc6bfcc2abb313be634b2d1baf58b164ef7b96629">H_EP_SETUP</a> =  1, 
<br/>
&nbsp;&nbsp;<a class="el" href="group__USB__HOST.html#gga34852d3ee651fb11751f21ccfc6bfcc2ad6473274a34916940013c44581528d92">H_EP_DATA_IN</a> =  2, 
<br/>
&nbsp;&nbsp;<a class="el" href="group__USB__HOST.html#gga34852d3ee651fb11751f21ccfc6bfcc2aae603b4f9bb26371efdbbe4894308bf3">H_EP_DATA_OUT</a> =  3, 
<br/>
&nbsp;&nbsp;<a class="el" href="group__USB__HOST.html#gga34852d3ee651fb11751f21ccfc6bfcc2a8aae8401530f06ea9bf76fde11990333">H_EP_STATUS_IN</a> =  4, 
<br/>
&nbsp;&nbsp;<a class="el" href="group__USB__HOST.html#gga34852d3ee651fb11751f21ccfc6bfcc2a1eb596383547a852e76f4c58c1b38bad">H_EP_STATUS_OUT</a> =  5
<br/>
 }</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p>USB HOST endpoint status enumerator. </p>
 <a href="group__USB__HOST.html#ga34852d3ee651fb11751f21ccfc6bfcc2">More...</a><br/></td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__USB__HOST.html#ga06f1146ad72c09a1ed1d9a9c4b98edb2">USBH_AssignHostChannel</a> (<a class="el" href="structUSBH__Ep__TypeDef.html">USBH_Ep_TypeDef</a> *ep, uint8_t hcnum)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Assign a host channel to a given endpoint.  <a href="#ga06f1146ad72c09a1ed1d9a9c4b98edb2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__USB__HOST.html#ga0b43c59fc9d3c91d0039f761ef4d6333">USBH_ControlMsg</a> (<a class="el" href="structUSBH__Ep__TypeDef.html">USBH_Ep_TypeDef</a> *ep, uint8_t bmRequestType, uint8_t bRequest, uint16_t wValue, uint16_t wIndex, uint16_t wLength, void *data, int timeout, <a class="el" href="group__USB__COMMON.html#ga521fe3060be2a8de6fdd5ee01193958b">USB_XferCompleteCb_TypeDef</a> callback)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Send a SETUP command to a device, non-blocking version.  <a href="#ga0b43c59fc9d3c91d0039f761ef4d6333"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__USB__HOST.html#gad94fe14defe6b7e33472364c65f07f17">USBH_ControlMsgB</a> (<a class="el" href="structUSBH__Ep__TypeDef.html">USBH_Ep_TypeDef</a> *ep, uint8_t bmRequestType, uint8_t bRequest, uint16_t wValue, uint16_t wIndex, uint16_t wLength, void *data, int timeout)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Send a SETUP command to a device, blocking version.  <a href="#gad94fe14defe6b7e33472364c65f07f17"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__USB__HOST.html#gaf791f134a36bb5376abaf59c45b84e84">USBH_DeviceConnected</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Check if a device is connected.  <a href="#gaf791f134a36bb5376abaf59c45b84e84"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__USB__HOST.html#gad09af4f14c4b205a9e159cb4c5fa7b8f">USBH_GetConfigurationDescriptorB</a> (<a class="el" href="structUSBH__Device__TypeDef.html">USBH_Device_TypeDef</a> *device, void *buf, int len, uint8_t configIndex)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read a configuration descriptor from a device.  <a href="#gad09af4f14c4b205a9e159cb4c5fa7b8f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__USB__HOST.html#ga2656404a391e6894b03dde7d42d11f4f">USBH_GetDeviceDescriptorB</a> (<a class="el" href="structUSBH__Device__TypeDef.html">USBH_Device_TypeDef</a> *device, void *buf, int len)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read a device descriptor from a device.  <a href="#ga2656404a391e6894b03dde7d42d11f4f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__USB__HOST.html#gad011363a4aa7f78c702a361bcebe67fb">USBH_GetPortSpeed</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the bus speed of the device attached to the USB port.  <a href="#gad011363a4aa7f78c702a361bcebe67fb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__USB__HOST.html#ga4e40f21d20e36116da7a45f4a8b7ee3c">USBH_GetStringB</a> (<a class="el" href="structUSBH__Device__TypeDef.html">USBH_Device_TypeDef</a> *device, uint8_t *buf, int bufLen, uint8_t stringIndex, uint16_t langID)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read a string descriptor from a device.  <a href="#ga4e40f21d20e36116da7a45f4a8b7ee3c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__USB__HOST.html#gaedb37814762148d4977bd0dbc1a9b46e">USBH_Init</a> (const <a class="el" href="structUSBH__Init__TypeDef.html">USBH_Init_TypeDef</a> *p)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize host protocol stack data structures.  <a href="#gaedb37814762148d4977bd0dbc1a9b46e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__USB__HOST.html#ga50dc10ac598c6c8479319ff58c186266">USBH_InitDeviceData</a> (<a class="el" href="structUSBH__Device__TypeDef.html">USBH_Device_TypeDef</a> *device, const uint8_t *buf, <a class="el" href="structUSBH__Ep__TypeDef.html">USBH_Ep_TypeDef</a> *ep, int numEp, uint8_t deviceSpeed)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Populate device and endpoint data structures with data retrieved during device enumeration.  <a href="#ga50dc10ac598c6c8479319ff58c186266"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__USB__HOST.html#gac57479eb6271bc262a6652b50fd122ce">USBH_PortReset</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Drive reset signalling on the USB port.  <a href="#gac57479eb6271bc262a6652b50fd122ce"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__USB__HOST.html#gaa2cb3b486c0d628c23cce6a26984580b">USBH_PortResume</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Drive resume signalling on the USB port.  <a href="#gaa2cb3b486c0d628c23cce6a26984580b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__USB__HOST.html#ga3b518bcdfa5c19f42a362736767f273c">USBH_PortSuspend</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the USB port in suspend mode.  <a href="#ga3b518bcdfa5c19f42a362736767f273c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__USB__HOST.html#ga60806aa452e18cee2002a2a5de015982">USBH_PrintString</a> (const char *pre, const <a class="el" href="structUSB__StringDescriptor__TypeDef.html">USB_StringDescriptor_TypeDef</a> *s, const char *post)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Print a USB string descriptor on the debug serial port.  <a href="#ga60806aa452e18cee2002a2a5de015982"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__USB__HOST.html#gab7a5bb1a4f4cae3b9cc0556b98d3a4d9">USBH_PrintConfigurationDescriptor</a> (const <a class="el" href="structUSB__ConfigurationDescriptor__TypeDef.html">USB_ConfigurationDescriptor_TypeDef</a> *config, int maxLen)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Pretty print a configuration descriptor on the debug serial port.  <a href="#gab7a5bb1a4f4cae3b9cc0556b98d3a4d9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__USB__HOST.html#ga465475632c744fb3fae7a73e09606fb3">USBH_PrintDeviceDescriptor</a> (const <a class="el" href="structUSB__DeviceDescriptor__TypeDef.html">USB_DeviceDescriptor_TypeDef</a> *device)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Pretty print a device descriptor on the debug serial port.  <a href="#ga465475632c744fb3fae7a73e09606fb3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__USB__HOST.html#gabe253e3e072d805774b8714aacf9182c">USBH_PrintEndpointDescriptor</a> (const <a class="el" href="structUSB__EndpointDescriptor__TypeDef.html">USB_EndpointDescriptor_TypeDef</a> *endpoint)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Pretty print an endpoint descriptor on the debug serial port.  <a href="#gabe253e3e072d805774b8714aacf9182c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__USB__HOST.html#ga7a4aa696c25dfd0b99a2cda6e02d7a36">USBH_PrintInterfaceDescriptor</a> (const <a class="el" href="structUSB__InterfaceDescriptor__TypeDef.html">USB_InterfaceDescriptor_TypeDef</a> *interface)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Pretty print an interface descriptor on the debug serial port.  <a href="#ga7a4aa696c25dfd0b99a2cda6e02d7a36"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__USB__HOST.html#gae9ef72709bb00accb740a0350f79fe35">USBH_QueryDeviceB</a> (uint8_t *buf, size_t bufsize, uint8_t deviceSpeed)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Will request both the device descriptor and the entire configuration descriptor from the device at USB address 0.  <a href="#gae9ef72709bb00accb740a0350f79fe35"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structUSB__ConfigurationDescriptor__TypeDef.html">USB_ConfigurationDescriptor_TypeDef</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__USB__HOST.html#ga2ac91d938f8553e31913afdb8d8d80dc">USBH_QGetConfigurationDescriptor</a> (const uint8_t *buf, int configIndex)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return a pointer to a configuration descriptor.  <a href="#ga2ac91d938f8553e31913afdb8d8d80dc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structUSB__DeviceDescriptor__TypeDef.html">USB_DeviceDescriptor_TypeDef</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__USB__HOST.html#ga4d6a8d78ebde4e394bb25aa62a871b30">USBH_QGetDeviceDescriptor</a> (const uint8_t *buf)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return a pointer to the device descriptor.  <a href="#ga4d6a8d78ebde4e394bb25aa62a871b30"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structUSB__EndpointDescriptor__TypeDef.html">USB_EndpointDescriptor_TypeDef</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__USB__HOST.html#ga10e6eb1a2e9802af4ec16254e3d44783">USBH_QGetEndpointDescriptor</a> (const uint8_t *buf, int configIndex, int interfaceIndex, int endpointIndex)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return a pointer to an endpoint descriptor.  <a href="#ga10e6eb1a2e9802af4ec16254e3d44783"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structUSB__InterfaceDescriptor__TypeDef.html">USB_InterfaceDescriptor_TypeDef</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__USB__HOST.html#gabd04b4b1ea26459d6db42aa77b6d592d">USBH_QGetInterfaceDescriptor</a> (const uint8_t *buf, int configIndex, int interfaceIndex)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return a pointer to an interface descriptor.  <a href="#gabd04b4b1ea26459d6db42aa77b6d592d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__USB__HOST.html#ga3514adea6bc6da41b8a083153e3f9365">USBH_Read</a> (<a class="el" href="structUSBH__Ep__TypeDef.html">USBH_Ep_TypeDef</a> *ep, void *data, int byteCount, int timeout, <a class="el" href="group__USB__COMMON.html#ga521fe3060be2a8de6fdd5ee01193958b">USB_XferCompleteCb_TypeDef</a> callback)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read data from device endpoint, non-blocking version.  <a href="#ga3514adea6bc6da41b8a083153e3f9365"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__USB__HOST.html#gab5829c1ebeed8cfd36317dd57c6584c9">USBH_ReadB</a> (<a class="el" href="structUSBH__Ep__TypeDef.html">USBH_Ep_TypeDef</a> *ep, void *data, int byteCount, int timeout)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read data from device endpoint, blocking version.  <a href="#gab5829c1ebeed8cfd36317dd57c6584c9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__USB__HOST.html#gac93ecf15f240abf7093506c8e8ef9e61">USBH_SetAddressB</a> (<a class="el" href="structUSBH__Device__TypeDef.html">USBH_Device_TypeDef</a> *device, uint8_t deviceAddress)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Give a device an USB address.  <a href="#gac93ecf15f240abf7093506c8e8ef9e61"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__USB__HOST.html#ga0f156ce4b8660203cf4957c019064d9f">USBH_SetAltInterfaceB</a> (<a class="el" href="structUSBH__Device__TypeDef.html">USBH_Device_TypeDef</a> *device, uint8_t interfaceIndex, uint8_t alternateSetting)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Activate a device interface within current device configuration.  <a href="#ga0f156ce4b8660203cf4957c019064d9f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__USB__HOST.html#ga6938e5856e9d28116922070621be36a5">USBH_SetConfigurationB</a> (<a class="el" href="structUSBH__Device__TypeDef.html">USBH_Device_TypeDef</a> *device, uint8_t configValue)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Activate a device configuration.  <a href="#ga6938e5856e9d28116922070621be36a5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__USB__HOST.html#ga547d9df531d791c90fd6f44d28e7089a">USBH_StallEpB</a> (<a class="el" href="structUSBH__Ep__TypeDef.html">USBH_Ep_TypeDef</a> *ep)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set an endpoint in the stalled (halted) state.  <a href="#ga547d9df531d791c90fd6f44d28e7089a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__USB__HOST.html#ga154c6b268f2d39d4e1577f917e0da239">USBH_Stop</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Stop USB host operation.  <a href="#ga154c6b268f2d39d4e1577f917e0da239"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__USB__HOST.html#gabf8fcc4a69080f3d1005d1bc21d44218">USBH_UnStallEpB</a> (<a class="el" href="structUSBH__Ep__TypeDef.html">USBH_Ep_TypeDef</a> *ep)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reset stall state on a stalled (halted) endpoint.  <a href="#gabf8fcc4a69080f3d1005d1bc21d44218"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__USB__HOST.html#ga62f99f2ed786c98d00935fc2fd140aaf">USBH_WaitForDeviceConnectionB</a> (uint8_t *buf, int timeoutInSeconds)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Wait for device connection.  <a href="#ga62f99f2ed786c98d00935fc2fd140aaf"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__USB__HOST.html#ga0c9fcc6a9f2db01206c010330b6e41f6">USBH_Write</a> (<a class="el" href="structUSBH__Ep__TypeDef.html">USBH_Ep_TypeDef</a> *ep, void *data, int byteCount, int timeout, <a class="el" href="group__USB__COMMON.html#ga521fe3060be2a8de6fdd5ee01193958b">USB_XferCompleteCb_TypeDef</a> callback)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write data to device endpoint, non-blocking version.  <a href="#ga0c9fcc6a9f2db01206c010330b6e41f6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__USB__HOST.html#ga27c7b3b7944f7f1b8e4327dd66fa7ff8">USBH_WriteB</a> (<a class="el" href="structUSBH__Ep__TypeDef.html">USBH_Ep_TypeDef</a> *ep, void *data, int byteCount, int timeout)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write data to device endpoint, blocking version.  <a href="#ga27c7b3b7944f7f1b8e4327dd66fa7ff8"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>USB HOST protocol stack, see <a class="el" href="usb__host.html">USB host stack library</a> page for detailed documentation. </p>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="ga011ca5b4422ca0d7b2ac5baae77f6b99"></a><!-- doxytag: member="em_usb.h::USB_VBUSOVRCUR_POLARITY_HIGH" ref="ga011ca5b4422ca0d7b2ac5baae77f6b99" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USB_VBUSOVRCUR_POLARITY_HIGH&nbsp;&nbsp;&nbsp;1</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Overcurrent flag pin polarity is high. </p>

<p>Definition at line <a class="el" href="em__usb_8h_source.html#l00845">845</a> of file <a class="el" href="em__usb_8h_source.html">em_usb.h</a>.</p>

</div>
</div>
<a class="anchor" id="gad5f204c3862e9c3d6dd469e98ea7c456"></a><!-- doxytag: member="em_usb.h::USB_VBUSOVRCUR_POLARITY_LOW" ref="gad5f204c3862e9c3d6dd469e98ea7c456" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USB_VBUSOVRCUR_POLARITY_LOW&nbsp;&nbsp;&nbsp;0</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Overcurrent flag pin polarity is low. </p>

<p>Definition at line <a class="el" href="em__usb_8h_source.html#l00844">844</a> of file <a class="el" href="em__usb_8h_source.html">em_usb.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga4d1c6a944470a42cd40e4eac28a1402f"></a><!-- doxytag: member="em_usb.h::USB_VBUSOVRCUR_PORT_NONE" ref="ga4d1c6a944470a42cd40e4eac28a1402f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USB_VBUSOVRCUR_PORT_NONE&nbsp;&nbsp;&nbsp;-1</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>No overcurrent flag functionality. </p>

<p>Definition at line <a class="el" href="em__usb_8h_source.html#l00843">843</a> of file <a class="el" href="em__usb_8h_source.html">em_usb.h</a>.</p>

</div>
</div>
<a class="anchor" id="gae4f0c44025ac0a0a70bdbd8ebebbd3f1"></a><!-- doxytag: member="em_usb.h::USBH_INIT_DEFAULT" ref="gae4f0c44025ac0a0a70bdbd8ebebbd3f1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USBH_INIT_DEFAULT</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment">{                                                                            \
  MAX_HOST_FIFO_SIZE_INWORDS * 2,<span class="comment">/* 1024 bytes Rx FIFO size.             */</span>  \
  MAX_HOST_FIFO_SIZE_INWORDS,    <span class="comment">/* 512 bytes non-periodic Tx FIFO size. */</span>  \
  MAX_HOST_FIFO_SIZE_INWORDS,    <span class="comment">/* 512 bytes periodic Tx FIFO size.     */</span>  \
  0                              <span class="comment">/* Reserved.                            */</span>  \
}
</pre></div>
<p>Default <a class="el" href="structUSBH__Init__TypeDef.html">USBH_Init_TypeDef</a> values, provides reasonable Tx/Rx FIFO partitioning. </p>

<p>Definition at line <a class="el" href="em__usb_8h_source.html#l00919">919</a> of file <a class="el" href="em__usb_8h_source.html">em_usb.h</a>.</p>

</div>
</div>
<hr/><h2>Typedef Documentation</h2>
<a class="anchor" id="ga5ccbba1464980cf59277cd2a6765c14d"></a><!-- doxytag: member="em_usb.h::USBH_Device_TypeDef" ref="ga5ccbba1464980cf59277cd2a6765c14d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structUSBH__Device__TypeDef.html">USBH_Device_TypeDef</a>  <a class="el" href="structUSBH__Device__TypeDef.html">USBH_Device_TypeDef</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>USB HOST device definition. </p>
<p>A host application should not manipulate the contents of this struct. </p>

</div>
</div>
<hr/><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="ga34852d3ee651fb11751f21ccfc6bfcc2"></a><!-- doxytag: member="em_usb.h::USBH_EpState_TypeDef" ref="ga34852d3ee651fb11751f21ccfc6bfcc2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__USB__HOST.html#ga34852d3ee651fb11751f21ccfc6bfcc2">USBH_EpState_TypeDef</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>USB HOST endpoint status enumerator. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="gga34852d3ee651fb11751f21ccfc6bfcc2acd80bb986620028db2b94739d20e59f6"></a><!-- doxytag: member="H_EP_IDLE" ref="gga34852d3ee651fb11751f21ccfc6bfcc2acd80bb986620028db2b94739d20e59f6" args="" -->H_EP_IDLE</em>&nbsp;</td><td>
<p>The endpoint is idle. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga34852d3ee651fb11751f21ccfc6bfcc2abb313be634b2d1baf58b164ef7b96629"></a><!-- doxytag: member="H_EP_SETUP" ref="gga34852d3ee651fb11751f21ccfc6bfcc2abb313be634b2d1baf58b164ef7b96629" args="" -->H_EP_SETUP</em>&nbsp;</td><td>
<p>The endpoint is in SETUP stage. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga34852d3ee651fb11751f21ccfc6bfcc2ad6473274a34916940013c44581528d92"></a><!-- doxytag: member="H_EP_DATA_IN" ref="gga34852d3ee651fb11751f21ccfc6bfcc2ad6473274a34916940013c44581528d92" args="" -->H_EP_DATA_IN</em>&nbsp;</td><td>
<p>The endpoint is in DATA IN stage. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga34852d3ee651fb11751f21ccfc6bfcc2aae603b4f9bb26371efdbbe4894308bf3"></a><!-- doxytag: member="H_EP_DATA_OUT" ref="gga34852d3ee651fb11751f21ccfc6bfcc2aae603b4f9bb26371efdbbe4894308bf3" args="" -->H_EP_DATA_OUT</em>&nbsp;</td><td>
<p>The endpoint is in DATA OUT stage. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga34852d3ee651fb11751f21ccfc6bfcc2a8aae8401530f06ea9bf76fde11990333"></a><!-- doxytag: member="H_EP_STATUS_IN" ref="gga34852d3ee651fb11751f21ccfc6bfcc2a8aae8401530f06ea9bf76fde11990333" args="" -->H_EP_STATUS_IN</em>&nbsp;</td><td>
<p>The endpoint is in STATUS IN stage. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga34852d3ee651fb11751f21ccfc6bfcc2a1eb596383547a852e76f4c58c1b38bad"></a><!-- doxytag: member="H_EP_STATUS_OUT" ref="gga34852d3ee651fb11751f21ccfc6bfcc2a1eb596383547a852e76f4c58c1b38bad" args="" -->H_EP_STATUS_OUT</em>&nbsp;</td><td>
<p>The endpoint is in STATUS OUT stage. </p>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="em__usb_8h_source.html#l00848">848</a> of file <a class="el" href="em__usb_8h_source.html">em_usb.h</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga06f1146ad72c09a1ed1d9a9c4b98edb2"></a><!-- doxytag: member="em_usb.h::USBH_AssignHostChannel" ref="ga06f1146ad72c09a1ed1d9a9c4b98edb2" args="(USBH_Ep_TypeDef *ep, uint8_t hcnum)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int USBH_AssignHostChannel </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structUSBH__Ep__TypeDef.html">USBH_Ep_TypeDef</a> *&nbsp;</td>
          <td class="paramname"> <em>ep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>hcnum</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Assign a host channel to a given endpoint. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>ep</em>&nbsp;</td><td>Pointer to a <a class="el" href="structUSBH__Ep__TypeDef.html">USBH_Ep_TypeDef</a> data structure.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>hcnum</em>&nbsp;</td><td>Host channel number (0..).</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="group__USB__COMMON.html#gga889b575b566a663621c33eebf46272c1a7fc3604700f290c08102ab7a60dbeac2">USB_STATUS_OK</a> on success, else an appropriate error code.</dd></dl>
<p>After assigning a host channel to an endpoint, all subsequent transfers to the endpoint will use the given host channel. Several endpoints can be assigned to the same host channel, but keep in mind that concurrent transfers can only be performed on endpoints assigned to different host channels. <br/>
 The default endpoint (EP0) is assigned to host channels 0 and 1 by the host stack. </p>

<p>Definition at line <a class="el" href="em__usbh_8c_source.html#l00150">150</a> of file <a class="el" href="em__usbh_8c_source.html">em_usbh.c</a>.</p>

<p>References <a class="el" href="em__usb_8h_source.html#l00875">USBH_Ep_TypeDef::addr</a>, <a class="el" href="em__usb_8h_source.html#l00502">USB_EndpointDescriptor_TypeDef::bEndpointAddress</a>, <a class="el" href="em__usb_8h_source.html#l00503">USB_EndpointDescriptor_TypeDef::bmAttributes</a>, <a class="el" href="em__usb_8h_source.html#l00186">CONFIG_DESC_BM_TRANSFERTYPE</a>, <a class="el" href="em__usb_8h_source.html#l00866">USBH_Ep_TypeDef::epDesc</a>, <a class="el" href="em__usb_8h_source.html#l00850">H_EP_IDLE</a>, <a class="el" href="em__usb_8h_source.html#l00871">USBH_Ep_TypeDef::hcIn</a>, <a class="el" href="em__usb_8h_source.html#l00870">USBH_Ep_TypeDef::hcOut</a>, <a class="el" href="em__usb_8h_source.html#l00872">USBH_Ep_TypeDef::in</a>, <a class="el" href="em__usb_8h_source.html#l00869">USBH_Ep_TypeDef::packetSize</a>, <a class="el" href="em__usb_8h_source.html#l00874">USBH_Ep_TypeDef::state</a>, <a class="el" href="em__usb_8h_source.html#l00868">USBH_Ep_TypeDef::type</a>, <a class="el" href="em__usb_8h_source.html#l00060">USB_SETUP_DIR_MASK</a>, <a class="el" href="em__usb_8h_source.html#l00323">USB_STATUS_ILLEGAL</a>, <a class="el" href="em__usb_8h_source.html#l00319">USB_STATUS_OK</a>, and <a class="el" href="em__usb_8h_source.html#l00504">USB_EndpointDescriptor_TypeDef::wMaxPacketSize</a>.</p>

</div>
</div>
<a class="anchor" id="ga0b43c59fc9d3c91d0039f761ef4d6333"></a><!-- doxytag: member="em_usb.h::USBH_ControlMsg" ref="ga0b43c59fc9d3c91d0039f761ef4d6333" args="(USBH_Ep_TypeDef *ep, uint8_t bmRequestType, uint8_t bRequest, uint16_t wValue, uint16_t wIndex, uint16_t wLength, void *data, int timeout, USB_XferCompleteCb_TypeDef callback)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int USBH_ControlMsg </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structUSBH__Ep__TypeDef.html">USBH_Ep_TypeDef</a> *&nbsp;</td>
          <td class="paramname"> <em>ep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>bmRequestType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>bRequest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&nbsp;</td>
          <td class="paramname"> <em>wValue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&nbsp;</td>
          <td class="paramname"> <em>wIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&nbsp;</td>
          <td class="paramname"> <em>wLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>timeout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__USB__COMMON.html#ga521fe3060be2a8de6fdd5ee01193958b">USB_XferCompleteCb_TypeDef</a>&nbsp;</td>
          <td class="paramname"> <em>callback</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Send a SETUP command to a device, non-blocking version. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>The transfer buffer length must be a multiple of 4 bytes in length and WORD (4 byte) aligned. When allocating the buffer, round buffer length up. If it is possible that the host will send more data than your device expects, round buffer size up to the next multiple of maxpacket size. <br/>
 This function is non-blocking and returns immediately.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>ep</em>&nbsp;</td><td>Pointer to a <a class="el" href="structUSBH__Ep__TypeDef.html">USBH_Ep_TypeDef</a> data structure.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>bmRequestType</em>&nbsp;</td><td>SETUP command request type. A suitable combination of values <a class="el" href="group__USB__COMMON.html#ga204e51e67cf7671617112b94ecfe3a46">USB_SETUP_DIR_D2H</a>, <a class="el" href="group__USB__COMMON.html#ga88f4223ae1ca659baa20ddfdb3dcc217">USB_SETUP_DIR_H2D</a>, <a class="el" href="group__USB__COMMON.html#ga10487f57d22e32059947a62ba2fc5228">USB_SETUP_TYPE_STANDARD_MASK</a>, <a class="el" href="group__USB__COMMON.html#ga8067a7210027455955067dc98e111494">USB_SETUP_TYPE_CLASS_MASK</a>, <a class="el" href="group__USB__COMMON.html#ga7e1d5f94bc4780ea74aea4efa5cbd804">USB_SETUP_TYPE_VENDOR_MASK</a>, <a class="el" href="group__USB__COMMON.html#gad48131dc5ca47b4b2def65e7bbc8442f">USB_SETUP_RECIPIENT_DEVICE</a>, <a class="el" href="group__USB__COMMON.html#ga59754621c21db801e11513ba06a3a02e">USB_SETUP_RECIPIENT_INTERFACE</a>, <a class="el" href="group__USB__COMMON.html#gac6ef27ac78140749f3607246f21c1471">USB_SETUP_RECIPIENT_ENDPOINT</a> or <a class="el" href="group__USB__COMMON.html#gaa1a71b2e05ba5682c956d8dfdf01d40b">USB_SETUP_RECIPIENT_OTHER</a>.<br/>
 Refer to the USB specification for details.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>bRequest</em>&nbsp;</td><td>A specific SETUP command request.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>wValue</em>&nbsp;</td><td>Word sized field that varies according to request.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>wIndex</em>&nbsp;</td><td>Word sized field that varies according to request. Typically used to pass an index or offset.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>wLength</em>&nbsp;</td><td>Number of bytes to transfer if there is a data stage.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>data</em>&nbsp;</td><td>Pointer to transfer data buffer.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>timeout</em>&nbsp;</td><td>Transfer timeout in milliseconds. The transfer will be terminated if not completed within <em>timeout</em> milliseconds. A value of 0 means infinite.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>callback</em>&nbsp;</td><td>Function to be called on transfer completion. Supply NULL if no callback is needed. See <a class="el" href="group__USB__COMMON.html#ga521fe3060be2a8de6fdd5ee01193958b">USB_XferCompleteCb_TypeDef</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="group__USB__COMMON.html#gga889b575b566a663621c33eebf46272c1a7fc3604700f290c08102ab7a60dbeac2">USB_STATUS_OK</a> on success, else an appropriate error code. </dd></dl>

<p>Definition at line <a class="el" href="em__usbh_8c_source.html#l00236">236</a> of file <a class="el" href="em__usbh_8c_source.html">em_usbh.c</a>.</p>

<p>References <a class="el" href="em__usb_8h_source.html#l00389">USB_Setup_TypeDef::bmRequestType</a>, <a class="el" href="em__usb_8h_source.html#l00391">USB_Setup_TypeDef::bRequest</a>, <a class="el" href="em__usb_8h_source.html#l00876">USBH_Ep_TypeDef::buf</a>, <a class="el" href="em__usb_8h_source.html#l00850">H_EP_IDLE</a>, <a class="el" href="em__usb_8h_source.html#l00851">H_EP_SETUP</a>, <a class="el" href="em__usb_8h_source.html#l00871">USBH_Ep_TypeDef::hcIn</a>, <a class="el" href="em__usb_8h_source.html#l00870">USBH_Ep_TypeDef::hcOut</a>, <a class="el" href="em__usb_8h_source.html#l00864">USBH_Ep_TypeDef::setup</a>, <a class="el" href="em__usb_8h_source.html#l00865">USBH_Ep_TypeDef::setupErrCnt</a>, <a class="el" href="em__usb_8h_source.html#l00874">USBH_Ep_TypeDef::state</a>, <a class="el" href="em__usb_8h_source.html#l00882">USBH_Ep_TypeDef::timeout</a>, <a class="el" href="em__usb_8h_source.html#l00321">USB_STATUS_EP_BUSY</a>, <a class="el" href="em__usb_8h_source.html#l00333">USB_STATUS_HC_BUSY</a>, <a class="el" href="em__usb_8h_source.html#l00323">USB_STATUS_ILLEGAL</a>, <a class="el" href="em__usb_8h_source.html#l00319">USB_STATUS_OK</a>, <a class="el" href="em__usbh_8c_source.html#l00602">USBH_DeviceConnected()</a>, <a class="el" href="em__usbtimer_8c_source.html#l00234">USBTIMER_Start()</a>, <a class="el" href="em__usb_8h_source.html#l00393">USB_Setup_TypeDef::wIndex</a>, <a class="el" href="em__usb_8h_source.html#l00394">USB_Setup_TypeDef::wLength</a>, <a class="el" href="em__usb_8h_source.html#l00392">USB_Setup_TypeDef::wValue</a>, <a class="el" href="em__usb_8h_source.html#l00879">USBH_Ep_TypeDef::xferCompleteCb</a>, <a class="el" href="em__usb_8h_source.html#l00877">USBH_Ep_TypeDef::xferCompleted</a>, and <a class="el" href="em__usb_8h_source.html#l00880">USBH_Ep_TypeDef::xferred</a>.</p>

<p>Referenced by <a class="el" href="em__usbh_8c_source.html#l00357">USBH_ControlMsgB()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="group__USB__HOST_ga0b43c59fc9d3c91d0039f761ef4d6333_cgraph.png" border="0" usemap="#group__USB__HOST_ga0b43c59fc9d3c91d0039f761ef4d6333_cgraph_map" alt=""></div>
<map name="group__USB__HOST_ga0b43c59fc9d3c91d0039f761ef4d6333_cgraph_map" id="group__USB__HOST_ga0b43c59fc9d3c91d0039f761ef4d6333_cgraph">
<area shape="rect" id="node2" href="group__USB__HOST.html#gaf791f134a36bb5376abaf59c45b84e84" title="Check if a device is connected." alt="" coords="189,5,368,32"/><area shape="rect" id="node3" href="group__USB__COMMON.html#gac2a406f16d989b04c4fc5b37d5c10b45" title="Start a timer." alt="" coords="218,56,339,83"/><area shape="rect" id="node4" href="group__USB__COMMON.html#gab73c922427cf0d509788a8063451703f" title="Stop a timer." alt="" coords="416,56,536,83"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="group__USB__HOST_ga0b43c59fc9d3c91d0039f761ef4d6333_icgraph.png" border="0" usemap="#group__USB__HOST_ga0b43c59fc9d3c91d0039f761ef4d6333_icgraph_map" alt=""></div>
<map name="group__USB__HOST_ga0b43c59fc9d3c91d0039f761ef4d6333_icgraph_map" id="group__USB__HOST_ga0b43c59fc9d3c91d0039f761ef4d6333_icgraph">
<area shape="rect" id="node2" href="group__USB__HOST.html#gad94fe14defe6b7e33472364c65f07f17" title="Send a SETUP command to a device, blocking version." alt="" coords="190,183,333,209"/><area shape="rect" id="node3" href="group__USB__HOST.html#gad09af4f14c4b205a9e159cb4c5fa7b8f" title="Read a configuration descriptor from a device." alt="" coords="381,5,627,32"/><area shape="rect" id="node5" href="group__USB__HOST.html#ga2656404a391e6894b03dde7d42d11f4f" title="Read a device descriptor from a device." alt="" coords="402,56,606,83"/><area shape="rect" id="node7" href="group__USB__HOST.html#ga4e40f21d20e36116da7a45f4a8b7ee3c" title="Read a string descriptor from a device." alt="" coords="439,107,569,133"/><area shape="rect" id="node8" href="group__USB__HOST.html#gac93ecf15f240abf7093506c8e8ef9e61" title="Give a device an USB address." alt="" coords="433,157,575,184"/><area shape="rect" id="node9" href="group__USB__HOST.html#ga0f156ce4b8660203cf4957c019064d9f" title="Activate a device interface within current device configuration." alt="" coords="422,208,586,235"/><area shape="rect" id="node10" href="group__USB__HOST.html#ga6938e5856e9d28116922070621be36a5" title="Activate a device configuration." alt="" coords="415,259,593,285"/><area shape="rect" id="node11" href="group__USB__HOST.html#ga547d9df531d791c90fd6f44d28e7089a" title="Set an endpoint in the stalled (halted) state." alt="" coords="447,309,561,336"/><area shape="rect" id="node12" href="group__USB__HOST.html#gabf8fcc4a69080f3d1005d1bc21d44218" title="Reset stall state on a stalled (halted) endpoint." alt="" coords="439,360,569,387"/><area shape="rect" id="node4" href="group__USB__HOST.html#gae9ef72709bb00accb740a0350f79fe35" title="Will request both the device descriptor and the entire configuration descriptor from..." alt="" coords="715,5,871,32"/><area shape="rect" id="node6" href="group__USB__HOST.html#ga62f99f2ed786c98d00935fc2fd140aaf" title="Wait for device connection." alt="" coords="675,56,912,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gad94fe14defe6b7e33472364c65f07f17"></a><!-- doxytag: member="em_usb.h::USBH_ControlMsgB" ref="gad94fe14defe6b7e33472364c65f07f17" args="(USBH_Ep_TypeDef *ep, uint8_t bmRequestType, uint8_t bRequest, uint16_t wValue, uint16_t wIndex, uint16_t wLength, void *data, int timeout)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int USBH_ControlMsgB </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structUSBH__Ep__TypeDef.html">USBH_Ep_TypeDef</a> *&nbsp;</td>
          <td class="paramname"> <em>ep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>bmRequestType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>bRequest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&nbsp;</td>
          <td class="paramname"> <em>wValue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&nbsp;</td>
          <td class="paramname"> <em>wIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&nbsp;</td>
          <td class="paramname"> <em>wLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>timeout</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Send a SETUP command to a device, blocking version. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>The transfer buffer length must be a multiple of 4 bytes in length and WORD (4 byte) aligned. When allocating the buffer, round buffer length up. If it is possible that the host will send more data than your device expects, round buffer size up to the next multiple of maxpacket size. <br/>
 This function is blocking and will not return before the transfer has completed, timed out or failed.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>ep</em>&nbsp;</td><td>Pointer to a <a class="el" href="structUSBH__Ep__TypeDef.html">USBH_Ep_TypeDef</a> data structure.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>bmRequestType</em>&nbsp;</td><td>SETUP command request type. A suitable combination of values <a class="el" href="group__USB__COMMON.html#ga204e51e67cf7671617112b94ecfe3a46">USB_SETUP_DIR_D2H</a>, <a class="el" href="group__USB__COMMON.html#ga88f4223ae1ca659baa20ddfdb3dcc217">USB_SETUP_DIR_H2D</a>, <a class="el" href="group__USB__COMMON.html#ga10487f57d22e32059947a62ba2fc5228">USB_SETUP_TYPE_STANDARD_MASK</a>, <a class="el" href="group__USB__COMMON.html#ga8067a7210027455955067dc98e111494">USB_SETUP_TYPE_CLASS_MASK</a>, <a class="el" href="group__USB__COMMON.html#ga7e1d5f94bc4780ea74aea4efa5cbd804">USB_SETUP_TYPE_VENDOR_MASK</a>, <a class="el" href="group__USB__COMMON.html#gad48131dc5ca47b4b2def65e7bbc8442f">USB_SETUP_RECIPIENT_DEVICE</a>, <a class="el" href="group__USB__COMMON.html#ga59754621c21db801e11513ba06a3a02e">USB_SETUP_RECIPIENT_INTERFACE</a>, <a class="el" href="group__USB__COMMON.html#gac6ef27ac78140749f3607246f21c1471">USB_SETUP_RECIPIENT_ENDPOINT</a> or <a class="el" href="group__USB__COMMON.html#gaa1a71b2e05ba5682c956d8dfdf01d40b">USB_SETUP_RECIPIENT_OTHER</a>.<br/>
 Refer to the USB specification for details.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>bRequest</em>&nbsp;</td><td>A specific SETUP command request.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>wValue</em>&nbsp;</td><td>Word sized field that varies according to request.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>wIndex</em>&nbsp;</td><td>Word sized field that varies according to request. Typically used to pass an index or offset.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>wLength</em>&nbsp;</td><td>Number of bytes to transfer if there is a data stage.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>data</em>&nbsp;</td><td>Pointer to transfer data buffer.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>timeout</em>&nbsp;</td><td>Transfer timeout in milliseconds. The transfer will be terminated if not completed within <em>timeout</em> milliseconds. A value of 0 means infinite.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A positive (or zero) value indicates number of bytes transferred. <br/>
 A negative value indicates a transfer error code enumerated in <a class="el" href="group__USB__COMMON.html#ga889b575b566a663621c33eebf46272c1">USB_Status_TypeDef</a>. </dd></dl>

<p>Definition at line <a class="el" href="em__usbh_8c_source.html#l00357">357</a> of file <a class="el" href="em__usbh_8c_source.html">em_usbh.c</a>.</p>

<p>References <a class="el" href="em__usb_8h_source.html#l00323">USB_STATUS_ILLEGAL</a>, <a class="el" href="em__usb_8h_source.html#l00319">USB_STATUS_OK</a>, <a class="el" href="em__usbh_8c_source.html#l00236">USBH_ControlMsg()</a>, <a class="el" href="em__usb_8h_source.html#l00877">USBH_Ep_TypeDef::xferCompleted</a>, <a class="el" href="em__usb_8h_source.html#l00880">USBH_Ep_TypeDef::xferred</a>, and <a class="el" href="em__usb_8h_source.html#l00878">USBH_Ep_TypeDef::xferStatus</a>.</p>

<p>Referenced by <a class="el" href="em__usbh_8c_source.html#l00637">USBH_GetConfigurationDescriptorB()</a>, <a class="el" href="em__usbh_8c_source.html#l00694">USBH_GetDeviceDescriptorB()</a>, <a class="el" href="em__usbh_8c_source.html#l00769">USBH_GetStringB()</a>, <a class="el" href="em__usbh_8c_source.html#l01831">USBH_SetAddressB()</a>, <a class="el" href="em__usbh_8c_source.html#l01887">USBH_SetAltInterfaceB()</a>, <a class="el" href="em__usbh_8c_source.html#l01946">USBH_SetConfigurationB()</a>, <a class="el" href="em__usbh_8c_source.html#l01999">USBH_StallEpB()</a>, and <a class="el" href="em__usbh_8c_source.html#l02058">USBH_UnStallEpB()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="group__USB__HOST_gad94fe14defe6b7e33472364c65f07f17_cgraph.png" border="0" usemap="#group__USB__HOST_gad94fe14defe6b7e33472364c65f07f17_cgraph_map" alt=""></div>
<map name="group__USB__HOST_gad94fe14defe6b7e33472364c65f07f17_cgraph_map" id="group__USB__HOST_gad94fe14defe6b7e33472364c65f07f17_cgraph">
<area shape="rect" id="node2" href="group__USB__HOST.html#ga0b43c59fc9d3c91d0039f761ef4d6333" title="Send a SETUP command to a device, non&#45;blocking version." alt="" coords="198,31,333,57"/><area shape="rect" id="node3" href="group__USB__HOST.html#gaf791f134a36bb5376abaf59c45b84e84" title="Check if a device is connected." alt="" coords="381,5,560,32"/><area shape="rect" id="node4" href="group__USB__COMMON.html#gac2a406f16d989b04c4fc5b37d5c10b45" title="Start a timer." alt="" coords="410,56,531,83"/><area shape="rect" id="node5" href="group__USB__COMMON.html#gab73c922427cf0d509788a8063451703f" title="Stop a timer." alt="" coords="608,56,728,83"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="group__USB__HOST_gad94fe14defe6b7e33472364c65f07f17_icgraph.png" border="0" usemap="#group__USB__HOST_gad94fe14defe6b7e33472364c65f07f17_icgraph_map" alt=""></div>
<map name="group__USB__HOST_gad94fe14defe6b7e33472364c65f07f17_icgraph_map" id="group__USB__HOST_gad94fe14defe6b7e33472364c65f07f17_icgraph">
<area shape="rect" id="node2" href="group__USB__HOST.html#gad09af4f14c4b205a9e159cb4c5fa7b8f" title="Read a configuration descriptor from a device." alt="" coords="197,5,443,32"/><area shape="rect" id="node4" href="group__USB__HOST.html#ga2656404a391e6894b03dde7d42d11f4f" title="Read a device descriptor from a device." alt="" coords="218,56,422,83"/><area shape="rect" id="node6" href="group__USB__HOST.html#ga4e40f21d20e36116da7a45f4a8b7ee3c" title="Read a string descriptor from a device." alt="" coords="255,107,385,133"/><area shape="rect" id="node7" href="group__USB__HOST.html#gac93ecf15f240abf7093506c8e8ef9e61" title="Give a device an USB address." alt="" coords="249,157,391,184"/><area shape="rect" id="node8" href="group__USB__HOST.html#ga0f156ce4b8660203cf4957c019064d9f" title="Activate a device interface within current device configuration." alt="" coords="238,208,402,235"/><area shape="rect" id="node9" href="group__USB__HOST.html#ga6938e5856e9d28116922070621be36a5" title="Activate a device configuration." alt="" coords="231,259,409,285"/><area shape="rect" id="node10" href="group__USB__HOST.html#ga547d9df531d791c90fd6f44d28e7089a" title="Set an endpoint in the stalled (halted) state." alt="" coords="263,309,377,336"/><area shape="rect" id="node11" href="group__USB__HOST.html#gabf8fcc4a69080f3d1005d1bc21d44218" title="Reset stall state on a stalled (halted) endpoint." alt="" coords="255,360,385,387"/><area shape="rect" id="node3" href="group__USB__HOST.html#gae9ef72709bb00accb740a0350f79fe35" title="Will request both the device descriptor and the entire configuration descriptor from..." alt="" coords="531,5,687,32"/><area shape="rect" id="node5" href="group__USB__HOST.html#ga62f99f2ed786c98d00935fc2fd140aaf" title="Wait for device connection." alt="" coords="491,56,728,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gaf791f134a36bb5376abaf59c45b84e84"></a><!-- doxytag: member="em_usb.h::USBH_DeviceConnected" ref="gaf791f134a36bb5376abaf59c45b84e84" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool USBH_DeviceConnected </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Check if a device is connected. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>True if device connected, false otherwise. </dd></dl>

<p>Definition at line <a class="el" href="em__usbh_8c_source.html#l00602">602</a> of file <a class="el" href="em__usbh_8c_source.html">em_usbh.c</a>.</p>

<p>Referenced by <a class="el" href="em__usbh_8c_source.html#l00236">USBH_ControlMsg()</a>, <a class="el" href="em__usbh_8c_source.html#l01662">USBH_Read()</a>, <a class="el" href="em__usbh_8c_source.html#l02136">USBH_WaitForDeviceConnectionB()</a>, and <a class="el" href="em__usbh_8c_source.html#l02286">USBH_Write()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="group__USB__HOST_gaf791f134a36bb5376abaf59c45b84e84_icgraph.png" border="0" usemap="#group__USB__HOST_gaf791f134a36bb5376abaf59c45b84e84_icgraph_map" alt=""></div>
<map name="group__USB__HOST_gaf791f134a36bb5376abaf59c45b84e84_icgraph_map" id="group__USB__HOST_gaf791f134a36bb5376abaf59c45b84e84_icgraph">
<area shape="rect" id="node2" href="group__USB__HOST.html#ga0b43c59fc9d3c91d0039f761ef4d6333" title="Send a SETUP command to a device, non&#45;blocking version." alt="" coords="233,284,367,311"/><area shape="rect" id="node7" href="group__USB__HOST.html#ga62f99f2ed786c98d00935fc2fd140aaf" title="Wait for device connection." alt="" coords="901,233,1139,260"/><area shape="rect" id="node14" href="group__USB__HOST.html#ga3514adea6bc6da41b8a083153e3f9365" title="Read data from device endpoint, non&#45;blocking version." alt="" coords="252,461,348,488"/><area shape="rect" id="node16" href="group__USB__HOST.html#ga0c9fcc6a9f2db01206c010330b6e41f6" title="Write data to device endpoint, non&#45;blocking version." alt="" coords="252,512,348,539"/><area shape="rect" id="node3" href="group__USB__HOST.html#gad94fe14defe6b7e33472364c65f07f17" title="Send a SETUP command to a device, blocking version." alt="" coords="417,208,559,235"/><area shape="rect" id="node4" href="group__USB__HOST.html#gad09af4f14c4b205a9e159cb4c5fa7b8f" title="Read a configuration descriptor from a device." alt="" coords="608,5,853,32"/><area shape="rect" id="node6" href="group__USB__HOST.html#ga2656404a391e6894b03dde7d42d11f4f" title="Read a device descriptor from a device." alt="" coords="629,56,833,83"/><area shape="rect" id="node8" href="group__USB__HOST.html#ga4e40f21d20e36116da7a45f4a8b7ee3c" title="Read a string descriptor from a device." alt="" coords="666,107,795,133"/><area shape="rect" id="node9" href="group__USB__HOST.html#gac93ecf15f240abf7093506c8e8ef9e61" title="Give a device an USB address." alt="" coords="659,157,802,184"/><area shape="rect" id="node10" href="group__USB__HOST.html#ga0f156ce4b8660203cf4957c019064d9f" title="Activate a device interface within current device configuration." alt="" coords="649,208,813,235"/><area shape="rect" id="node11" href="group__USB__HOST.html#ga6938e5856e9d28116922070621be36a5" title="Activate a device configuration." alt="" coords="642,259,819,285"/><area shape="rect" id="node12" href="group__USB__HOST.html#ga547d9df531d791c90fd6f44d28e7089a" title="Set an endpoint in the stalled (halted) state." alt="" coords="674,309,787,336"/><area shape="rect" id="node13" href="group__USB__HOST.html#gabf8fcc4a69080f3d1005d1bc21d44218" title="Reset stall state on a stalled (halted) endpoint." alt="" coords="665,360,796,387"/><area shape="rect" id="node5" href="group__USB__HOST.html#gae9ef72709bb00accb740a0350f79fe35" title="Will request both the device descriptor and the entire configuration descriptor from..." alt="" coords="942,31,1098,57"/><area shape="rect" id="node15" href="group__USB__HOST.html#gab5829c1ebeed8cfd36317dd57c6584c9" title="Read data from device endpoint, blocking version." alt="" coords="436,461,540,488"/><area shape="rect" id="node17" href="group__USB__HOST.html#ga27c7b3b7944f7f1b8e4327dd66fa7ff8" title="Write data to device endpoint, blocking version." alt="" coords="436,512,540,539"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gad09af4f14c4b205a9e159cb4c5fa7b8f"></a><!-- doxytag: member="em_usb.h::USBH_GetConfigurationDescriptorB" ref="gad09af4f14c4b205a9e159cb4c5fa7b8f" args="(USBH_Device_TypeDef *device, void *buf, int len, uint8_t configIndex)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int USBH_GetConfigurationDescriptorB </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structUSBH__Device__TypeDef.html">USBH_Device_TypeDef</a> *&nbsp;</td>
          <td class="paramname"> <em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>configIndex</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read a configuration descriptor from a device. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>The transfer buffer length must be a multiple of 4 bytes in length and WORD (4 byte) aligned. When allocating the buffer, round buffer length up. If it is possible that the host will send more data than your device expects, round buffer size up to the next multiple of maxpacket size. <br/>
 This function is blocking and will not return before the transfer has completed, timed out (1 second) or failed.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>device</em>&nbsp;</td><td>Pointer to a <a class="el" href="structUSBH__Device__TypeDef.html">USBH_Device_TypeDef</a> data structure.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>buf</em>&nbsp;</td><td>Pointer to transfer data buffer.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>len</em>&nbsp;</td><td>The number of bytes to request, must not exceed transfer data buffer size.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>configIndex</em>&nbsp;</td><td>Configuration index, a zero based number indicating which configuration to request.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A positive (or zero) value indicates number of bytes transferred. <br/>
 A negative value indicates a transfer error code enumerated in <a class="el" href="group__USB__COMMON.html#ga889b575b566a663621c33eebf46272c1">USB_Status_TypeDef</a>. </dd></dl>

<p>Definition at line <a class="el" href="em__usbh_8c_source.html#l00637">637</a> of file <a class="el" href="em__usbh_8c_source.html">em_usbh.c</a>.</p>

<p>References <a class="el" href="em__usb_8h_source.html#l00894">USBH_Device_TypeDef::ep0</a>, <a class="el" href="em__usb_8h_source.html#l00083">GET_DESCRIPTOR</a>, <a class="el" href="em__usb_8h_source.html#l00117">USB_CONFIG_DESCRIPTOR</a>, <a class="el" href="em__usb_8h_source.html#l00061">USB_SETUP_DIR_D2H</a>, <a class="el" href="em__usb_8h_source.html#l00073">USB_SETUP_RECIPIENT_DEVICE</a>, <a class="el" href="em__usb_8h_source.html#l00068">USB_SETUP_TYPE_STANDARD_MASK</a>, <a class="el" href="em__usb_8h_source.html#l00323">USB_STATUS_ILLEGAL</a>, and <a class="el" href="em__usbh_8c_source.html#l00357">USBH_ControlMsgB()</a>.</p>

<p>Referenced by <a class="el" href="em__usbh_8c_source.html#l01572">USBH_QueryDeviceB()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="group__USB__HOST_gad09af4f14c4b205a9e159cb4c5fa7b8f_cgraph.png" border="0" usemap="#group__USB__HOST_gad09af4f14c4b205a9e159cb4c5fa7b8f_cgraph_map" alt=""></div>
<map name="group__USB__HOST_gad09af4f14c4b205a9e159cb4c5fa7b8f_cgraph_map" id="group__USB__HOST_gad09af4f14c4b205a9e159cb4c5fa7b8f_cgraph">
<area shape="rect" id="node2" href="group__USB__HOST.html#gad94fe14defe6b7e33472364c65f07f17" title="Send a SETUP command to a device, blocking version." alt="" coords="299,31,442,57"/><area shape="rect" id="node3" href="group__USB__HOST.html#ga0b43c59fc9d3c91d0039f761ef4d6333" title="Send a SETUP command to a device, non&#45;blocking version." alt="" coords="491,31,626,57"/><area shape="rect" id="node4" href="group__USB__HOST.html#gaf791f134a36bb5376abaf59c45b84e84" title="Check if a device is connected." alt="" coords="675,5,853,32"/><area shape="rect" id="node5" href="group__USB__COMMON.html#gac2a406f16d989b04c4fc5b37d5c10b45" title="Start a timer." alt="" coords="703,56,825,83"/><area shape="rect" id="node6" href="group__USB__COMMON.html#gab73c922427cf0d509788a8063451703f" title="Stop a timer." alt="" coords="901,56,1021,83"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="group__USB__HOST_gad09af4f14c4b205a9e159cb4c5fa7b8f_icgraph.png" border="0" usemap="#group__USB__HOST_gad09af4f14c4b205a9e159cb4c5fa7b8f_icgraph_map" alt=""></div>
<map name="group__USB__HOST_gad09af4f14c4b205a9e159cb4c5fa7b8f_icgraph_map" id="group__USB__HOST_gad09af4f14c4b205a9e159cb4c5fa7b8f_icgraph">
<area shape="rect" id="node2" href="group__USB__HOST.html#gae9ef72709bb00accb740a0350f79fe35" title="Will request both the device descriptor and the entire configuration descriptor from..." alt="" coords="299,5,455,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga2656404a391e6894b03dde7d42d11f4f"></a><!-- doxytag: member="em_usb.h::USBH_GetDeviceDescriptorB" ref="ga2656404a391e6894b03dde7d42d11f4f" args="(USBH_Device_TypeDef *device, void *buf, int len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int USBH_GetDeviceDescriptorB </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structUSBH__Device__TypeDef.html">USBH_Device_TypeDef</a> *&nbsp;</td>
          <td class="paramname"> <em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read a device descriptor from a device. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>The transfer buffer length must be a multiple of 4 bytes in length and WORD (4 byte) aligned. When allocating the buffer, round buffer length up. If it is possible that the host will send more data than your device expects, round buffer size up to the next multiple of maxpacket size. <br/>
 This function is blocking and will not return before the transfer has completed, timed out (1 second) or failed.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>device</em>&nbsp;</td><td>Pointer to a <a class="el" href="structUSBH__Device__TypeDef.html">USBH_Device_TypeDef</a> data structure.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>buf</em>&nbsp;</td><td>Pointer to transfer data buffer.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>len</em>&nbsp;</td><td>The number of bytes to request, must not exceed transfer data buffer size.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A positive (or zero) value indicates number of bytes transferred. <br/>
 A negative value indicates a transfer error code enumerated in <a class="el" href="group__USB__COMMON.html#ga889b575b566a663621c33eebf46272c1">USB_Status_TypeDef</a>. </dd></dl>

<p>Definition at line <a class="el" href="em__usbh_8c_source.html#l00694">694</a> of file <a class="el" href="em__usbh_8c_source.html">em_usbh.c</a>.</p>

<p>References <a class="el" href="em__usb_8h_source.html#l00894">USBH_Device_TypeDef::ep0</a>, <a class="el" href="em__usb_8h_source.html#l00083">GET_DESCRIPTOR</a>, <a class="el" href="em__usb_8h_source.html#l00116">USB_DEVICE_DESCRIPTOR</a>, <a class="el" href="em__usb_8h_source.html#l00061">USB_SETUP_DIR_D2H</a>, <a class="el" href="em__usb_8h_source.html#l00073">USB_SETUP_RECIPIENT_DEVICE</a>, <a class="el" href="em__usb_8h_source.html#l00068">USB_SETUP_TYPE_STANDARD_MASK</a>, <a class="el" href="em__usb_8h_source.html#l00323">USB_STATUS_ILLEGAL</a>, and <a class="el" href="em__usbh_8c_source.html#l00357">USBH_ControlMsgB()</a>.</p>

<p>Referenced by <a class="el" href="em__usbh_8c_source.html#l01572">USBH_QueryDeviceB()</a>, and <a class="el" href="em__usbh_8c_source.html#l02136">USBH_WaitForDeviceConnectionB()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="group__USB__HOST_ga2656404a391e6894b03dde7d42d11f4f_cgraph.png" border="0" usemap="#group__USB__HOST_ga2656404a391e6894b03dde7d42d11f4f_cgraph_map" alt=""></div>
<map name="group__USB__HOST_ga2656404a391e6894b03dde7d42d11f4f_cgraph_map" id="group__USB__HOST_ga2656404a391e6894b03dde7d42d11f4f_cgraph">
<area shape="rect" id="node2" href="group__USB__HOST.html#gad94fe14defe6b7e33472364c65f07f17" title="Send a SETUP command to a device, blocking version." alt="" coords="259,31,402,57"/><area shape="rect" id="node3" href="group__USB__HOST.html#ga0b43c59fc9d3c91d0039f761ef4d6333" title="Send a SETUP command to a device, non&#45;blocking version." alt="" coords="451,31,586,57"/><area shape="rect" id="node4" href="group__USB__HOST.html#gaf791f134a36bb5376abaf59c45b84e84" title="Check if a device is connected." alt="" coords="635,5,813,32"/><area shape="rect" id="node5" href="group__USB__COMMON.html#gac2a406f16d989b04c4fc5b37d5c10b45" title="Start a timer." alt="" coords="663,56,785,83"/><area shape="rect" id="node6" href="group__USB__COMMON.html#gab73c922427cf0d509788a8063451703f" title="Stop a timer." alt="" coords="861,56,981,83"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="group__USB__HOST_ga2656404a391e6894b03dde7d42d11f4f_icgraph.png" border="0" usemap="#group__USB__HOST_ga2656404a391e6894b03dde7d42d11f4f_icgraph_map" alt=""></div>
<map name="group__USB__HOST_ga2656404a391e6894b03dde7d42d11f4f_icgraph_map" id="group__USB__HOST_ga2656404a391e6894b03dde7d42d11f4f_icgraph">
<area shape="rect" id="node2" href="group__USB__HOST.html#gae9ef72709bb00accb740a0350f79fe35" title="Will request both the device descriptor and the entire configuration descriptor from..." alt="" coords="299,5,455,32"/><area shape="rect" id="node3" href="group__USB__HOST.html#ga62f99f2ed786c98d00935fc2fd140aaf" title="Wait for device connection." alt="" coords="259,56,496,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gad011363a4aa7f78c702a361bcebe67fb"></a><!-- doxytag: member="em_usb.h::USBH_GetPortSpeed" ref="gad011363a4aa7f78c702a361bcebe67fb" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t USBH_GetPortSpeed </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the bus speed of the device attached to the USB port. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="group__USB__COMMON.html#gac483b34de71117d1db0dc1d9c1f896d9">PORT_FULL_SPEED</a> or <a class="el" href="group__USB__COMMON.html#gab35af8fb505263e1e594d07f9e5c8253">PORT_LOW_SPEED</a>. </dd></dl>

<p>Definition at line <a class="el" href="em__usbh_8c_source.html#l00731">731</a> of file <a class="el" href="em__usbh_8c_source.html">em_usbh.c</a>.</p>

<p>Referenced by <a class="el" href="em__usbh_8c_source.html#l02136">USBH_WaitForDeviceConnectionB()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="group__USB__HOST_gad011363a4aa7f78c702a361bcebe67fb_icgraph.png" border="0" usemap="#group__USB__HOST_gad011363a4aa7f78c702a361bcebe67fb_icgraph_map" alt=""></div>
<map name="group__USB__HOST_gad011363a4aa7f78c702a361bcebe67fb_icgraph_map" id="group__USB__HOST_gad011363a4aa7f78c702a361bcebe67fb_icgraph">
<area shape="rect" id="node2" href="group__USB__HOST.html#ga62f99f2ed786c98d00935fc2fd140aaf" title="Wait for device connection." alt="" coords="203,5,440,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga4e40f21d20e36116da7a45f4a8b7ee3c"></a><!-- doxytag: member="em_usb.h::USBH_GetStringB" ref="ga4e40f21d20e36116da7a45f4a8b7ee3c" args="(USBH_Device_TypeDef *device, uint8_t *buf, int bufLen, uint8_t stringIndex, uint16_t langID)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int USBH_GetStringB </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structUSBH__Device__TypeDef.html">USBH_Device_TypeDef</a> *&nbsp;</td>
          <td class="paramname"> <em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>bufLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>stringIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&nbsp;</td>
          <td class="paramname"> <em>langID</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read a string descriptor from a device. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>The transfer buffer length must be a multiple of 4 bytes in length and WORD (4 byte) aligned. When allocating the buffer, round buffer length up. If it is possible that the host will send more data than your device expects, round buffer size up to the next multiple of maxpacket size. <br/>
 This function is blocking and will not return before the transfer has completed, timed out (1 second) or failed. <br/>
 The maximum permitted USB string lenght is 255 bytes.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>device</em>&nbsp;</td><td>Pointer to a <a class="el" href="structUSBH__Device__TypeDef.html">USBH_Device_TypeDef</a> data structure.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>buf</em>&nbsp;</td><td>Pointer to transfer data buffer.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>bufLen</em>&nbsp;</td><td>Transfer data buffer size.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>stringIndex</em>&nbsp;</td><td>String index, a zero based number indicating which string to request.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>langID</em>&nbsp;</td><td>String language ID.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A positive (or zero) value indicates number of bytes transferred. <br/>
 A negative value indicates a transfer error code enumerated in <a class="el" href="group__USB__COMMON.html#ga889b575b566a663621c33eebf46272c1">USB_Status_TypeDef</a>. </dd></dl>

<p>Definition at line <a class="el" href="em__usbh_8c_source.html#l00769">769</a> of file <a class="el" href="em__usbh_8c_source.html">em_usbh.c</a>.</p>

<p>References <a class="el" href="em__usb_8h_source.html#l00894">USBH_Device_TypeDef::ep0</a>, <a class="el" href="em__usb_8h_source.html#l00083">GET_DESCRIPTOR</a>, <a class="el" href="em__usb_8h_source.html#l00514">USB_StringDescriptor_TypeDef::len</a>, <a class="el" href="em__usb_8h_source.html#l00516">USB_StringDescriptor_TypeDef::name</a>, <a class="el" href="em__usb_8h_source.html#l00061">USB_SETUP_DIR_D2H</a>, <a class="el" href="em__usb_8h_source.html#l00073">USB_SETUP_RECIPIENT_DEVICE</a>, <a class="el" href="em__usb_8h_source.html#l00068">USB_SETUP_TYPE_STANDARD_MASK</a>, <a class="el" href="em__usb_8h_source.html#l00323">USB_STATUS_ILLEGAL</a>, <a class="el" href="em__usb_8h_source.html#l00118">USB_STRING_DESCRIPTOR</a>, and <a class="el" href="em__usbh_8c_source.html#l00357">USBH_ControlMsgB()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="group__USB__HOST_ga4e40f21d20e36116da7a45f4a8b7ee3c_cgraph.png" border="0" usemap="#group__USB__HOST_ga4e40f21d20e36116da7a45f4a8b7ee3c_cgraph_map" alt=""></div>
<map name="group__USB__HOST_ga4e40f21d20e36116da7a45f4a8b7ee3c_cgraph_map" id="group__USB__HOST_ga4e40f21d20e36116da7a45f4a8b7ee3c_cgraph">
<area shape="rect" id="node2" href="group__USB__HOST.html#gad94fe14defe6b7e33472364c65f07f17" title="Send a SETUP command to a device, blocking version." alt="" coords="185,31,327,57"/><area shape="rect" id="node3" href="group__USB__HOST.html#ga0b43c59fc9d3c91d0039f761ef4d6333" title="Send a SETUP command to a device, non&#45;blocking version." alt="" coords="377,31,511,57"/><area shape="rect" id="node4" href="group__USB__HOST.html#gaf791f134a36bb5376abaf59c45b84e84" title="Check if a device is connected." alt="" coords="560,5,739,32"/><area shape="rect" id="node5" href="group__USB__COMMON.html#gac2a406f16d989b04c4fc5b37d5c10b45" title="Start a timer." alt="" coords="589,56,710,83"/><area shape="rect" id="node6" href="group__USB__COMMON.html#gab73c922427cf0d509788a8063451703f" title="Stop a timer." alt="" coords="787,56,907,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gaedb37814762148d4977bd0dbc1a9b46e"></a><!-- doxytag: member="em_usb.h::USBH_Init" ref="gaedb37814762148d4977bd0dbc1a9b46e" args="(const USBH_Init_TypeDef *p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int USBH_Init </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structUSBH__Init__TypeDef.html">USBH_Init_TypeDef</a> *&nbsp;</td>
          <td class="paramname"> <em>p</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initialize host protocol stack data structures. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>p</em>&nbsp;</td><td>Pointer to initialization structure. See <a class="el" href="structUSBH__Init__TypeDef.html">USBH_Init_TypeDef</a>.</td></tr>
  </table>
  </dd>
</dl>
<p>Host stack internal data structures are initialized, no actions will be performed on the USB port. Use this function once before starting USB host operation. USB operation is initated with <a class="el" href="group__USB__HOST.html#ga62f99f2ed786c98d00935fc2fd140aaf">USBH_WaitForDeviceConnectionB()</a>.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="group__USB__COMMON.html#gga889b575b566a663621c33eebf46272c1a7fc3604700f290c08102ab7a60dbeac2">USB_STATUS_OK</a> on success, else an appropriate error code. </dd></dl>

<p>Definition at line <a class="el" href="em__usbh_8c_source.html#l00827">827</a> of file <a class="el" href="em__usbh_8c_source.html">em_usbh.c</a>.</p>

<p>References <a class="el" href="em__usb_8h_source.html#l00908">USBH_Init_TypeDef::nptxFifoSize</a>, <a class="el" href="em__usb_8h_source.html#l00909">USBH_Init_TypeDef::ptxFifoSize</a>, <a class="el" href="em__usb_8h_source.html#l00907">USBH_Init_TypeDef::rxFifoSize</a>, <a class="el" href="em__usb_8h_source.html#l00323">USB_STATUS_ILLEGAL</a>, <a class="el" href="em__usb_8h_source.html#l00319">USB_STATUS_OK</a>, and <a class="el" href="em__usbtimer_8c_source.html#l00190">USBTIMER_Init()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="group__USB__HOST_gaedb37814762148d4977bd0dbc1a9b46e_cgraph.png" border="0" usemap="#group__USB__HOST_gaedb37814762148d4977bd0dbc1a9b46e_cgraph_map" alt=""></div>
<map name="group__USB__HOST_gaedb37814762148d4977bd0dbc1a9b46e_cgraph_map" id="group__USB__HOST_gaedb37814762148d4977bd0dbc1a9b46e_cgraph">
<area shape="rect" id="node2" href="group__USB__COMMON.html#ga21c87b800d87fd731173dd4f48f23c28" title="Activate the hardware timer used to pace the 1 millisecond timer system." alt="" coords="137,5,247,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga50dc10ac598c6c8479319ff58c186266"></a><!-- doxytag: member="em_usb.h::USBH_InitDeviceData" ref="ga50dc10ac598c6c8479319ff58c186266" args="(USBH_Device_TypeDef *device, const uint8_t *buf, USBH_Ep_TypeDef *ep, int numEp, uint8_t deviceSpeed)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int USBH_InitDeviceData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structUSBH__Device__TypeDef.html">USBH_Device_TypeDef</a> *&nbsp;</td>
          <td class="paramname"> <em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structUSBH__Ep__TypeDef.html">USBH_Ep_TypeDef</a> *&nbsp;</td>
          <td class="paramname"> <em>ep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>numEp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>deviceSpeed</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Populate device and endpoint data structures with data retrieved during device enumeration. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>device</em>&nbsp;</td><td>Pointer to a <a class="el" href="structUSBH__Device__TypeDef.html">USBH_Device_TypeDef</a> data structure.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>buf</em>&nbsp;</td><td>A data buffer containing enumeration data retrieved with <a class="el" href="group__USB__HOST.html#gae9ef72709bb00accb740a0350f79fe35">USBH_QueryDeviceB()</a>.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>ep</em>&nbsp;</td><td>Pointer to an array of <a class="el" href="structUSBH__Ep__TypeDef.html">USBH_Ep_TypeDef</a> endpoint data structures.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>numEp</em>&nbsp;</td><td>Number of elements in endpoint array.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>deviceSpeed</em>&nbsp;</td><td><a class="el" href="group__USB__COMMON.html#gac483b34de71117d1db0dc1d9c1f896d9">PORT_FULL_SPEED</a> or <a class="el" href="group__USB__COMMON.html#gab35af8fb505263e1e594d07f9e5c8253">PORT_LOW_SPEED</a>.</td></tr>
  </table>
  </dd>
</dl>
<p>Use this function prior to moving a device out of default state. The application itself must allocate device and endpoint structures. Data from a prior call to <a class="el" href="group__USB__HOST.html#gae9ef72709bb00accb740a0350f79fe35">USBH_QueryDeviceB()</a> must be passed in input parameter <em>buf</em>. The device speed can be determined with <a class="el" href="group__USB__HOST.html#gad011363a4aa7f78c702a361bcebe67fb">USBH_GetPortSpeed()</a> for devices directly attached to the USB port. Devices attached via a hub must retrieve this information by querying the hub. </p>

<p>Definition at line <a class="el" href="em__usbh_8c_source.html#l00895">895</a> of file <a class="el" href="em__usbh_8c_source.html">em_usbh.c</a>.</p>

<p>References <a class="el" href="em__usb_8h_source.html#l00897">USBH_Device_TypeDef::addr</a>, <a class="el" href="em__usb_8h_source.html#l00892">USBH_Device_TypeDef::confDesc</a>, <a class="el" href="em__usb_8h_source.html#l00891">USBH_Device_TypeDef::devDesc</a>, <a class="el" href="em__usb_8h_source.html#l00895">USBH_Device_TypeDef::ep</a>, <a class="el" href="em__usb_8h_source.html#l00894">USBH_Device_TypeDef::ep0</a>, <a class="el" href="em__usb_8h_source.html#l00866">USBH_Ep_TypeDef::epDesc</a>, <a class="el" href="em__usb_8h_source.html#l00871">USBH_Ep_TypeDef::hcIn</a>, <a class="el" href="em__usb_8h_source.html#l00870">USBH_Ep_TypeDef::hcOut</a>, <a class="el" href="em__usb_8h_source.html#l00893">USBH_Device_TypeDef::itfDesc</a>, <a class="el" href="em__usb_8h_source.html#l00896">USBH_Device_TypeDef::numEp</a>, <a class="el" href="em__usb_8h_source.html#l00869">USBH_Ep_TypeDef::packetSize</a>, <a class="el" href="em__usb_8h_source.html#l00867">USBH_Ep_TypeDef::parentDevice</a>, <a class="el" href="em__usb_8h_source.html#l00898">USBH_Device_TypeDef::speed</a>, <a class="el" href="em__usb_8h_source.html#l00873">USBH_Ep_TypeDef::toggle</a>, <a class="el" href="em__usb_8h_source.html#l00868">USBH_Ep_TypeDef::type</a>, <a class="el" href="em__usb_8h_source.html#l00145">USB_CONFIG_DESCSIZE</a>, <a class="el" href="em__usb_8h_source.html#l00144">USB_DEVICE_DESCSIZE</a>, <a class="el" href="em__usb_8h_source.html#l00147">USB_ENDPOINT_DESCSIZE</a>, <a class="el" href="em__usb_8h_source.html#l00169">USB_EPTYPE_CTRL</a>, <a class="el" href="em__usb_8h_source.html#l00146">USB_INTERFACE_DESCSIZE</a>, <a class="el" href="em__usb_8h_source.html#l00323">USB_STATUS_ILLEGAL</a>, <a class="el" href="em__usb_8h_source.html#l00319">USB_STATUS_OK</a>, <a class="el" href="em__usbh_8c_source.html#l01424">USBH_QGetEndpointDescriptor()</a>, and <a class="el" href="em__usbh_8c_source.html#l01496">USBH_QGetInterfaceDescriptor()</a>.</p>

<p>Referenced by <a class="el" href="em__usbh_8c_source.html#l01572">USBH_QueryDeviceB()</a>, and <a class="el" href="em__usbh_8c_source.html#l02136">USBH_WaitForDeviceConnectionB()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="group__USB__HOST_ga50dc10ac598c6c8479319ff58c186266_cgraph.png" border="0" usemap="#group__USB__HOST_ga50dc10ac598c6c8479319ff58c186266_cgraph_map" alt=""></div>
<map name="group__USB__HOST_ga50dc10ac598c6c8479319ff58c186266_cgraph_map" id="group__USB__HOST_ga50dc10ac598c6c8479319ff58c186266_cgraph">
<area shape="rect" id="node2" href="group__USB__HOST.html#ga10e6eb1a2e9802af4ec16254e3d44783" title="Return a pointer to an endpoint descriptor." alt="" coords="211,5,429,32"/><area shape="rect" id="node3" href="group__USB__HOST.html#gabd04b4b1ea26459d6db42aa77b6d592d" title="Return a pointer to an interface descriptor." alt="" coords="477,31,696,57"/><area shape="rect" id="node4" href="group__USB__HOST.html#ga2ac91d938f8553e31913afdb8d8d80dc" title="Return a pointer to a configuration descriptor." alt="" coords="744,31,992,57"/><area shape="rect" id="node5" href="group__USB__HOST.html#ga4d6a8d78ebde4e394bb25aa62a871b30" title="Return a pointer to the device descriptor." alt="" coords="1041,31,1247,57"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="group__USB__HOST_ga50dc10ac598c6c8479319ff58c186266_icgraph.png" border="0" usemap="#group__USB__HOST_ga50dc10ac598c6c8479319ff58c186266_icgraph_map" alt=""></div>
<map name="group__USB__HOST_ga50dc10ac598c6c8479319ff58c186266_icgraph_map" id="group__USB__HOST_ga50dc10ac598c6c8479319ff58c186266_icgraph">
<area shape="rect" id="node2" href="group__USB__HOST.html#gae9ef72709bb00accb740a0350f79fe35" title="Will request both the device descriptor and the entire configuration descriptor from..." alt="" coords="251,5,407,32"/><area shape="rect" id="node3" href="group__USB__HOST.html#ga62f99f2ed786c98d00935fc2fd140aaf" title="Wait for device connection." alt="" coords="211,56,448,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gac57479eb6271bc262a6652b50fd122ce"></a><!-- doxytag: member="em_usb.h::USBH_PortReset" ref="gac57479eb6271bc262a6652b50fd122ce" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int USBH_PortReset </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Drive reset signalling on the USB port. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>This function is primarily meant for debugging a device. When returning the device will appear to be disconnected.</dd></dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="group__USB__COMMON.html#gga889b575b566a663621c33eebf46272c1a7fc3604700f290c08102ab7a60dbeac2">USB_STATUS_OK</a> on success, else an appropriate error code. </dd></dl>

<p>Definition at line <a class="el" href="em__usbh_8c_source.html#l00972">972</a> of file <a class="el" href="em__usbh_8c_source.html">em_usbh.c</a>.</p>

<p>References <a class="el" href="em__usb_8h_source.html#l00323">USB_STATUS_ILLEGAL</a>, <a class="el" href="em__usb_8h_source.html#l00319">USB_STATUS_OK</a>, and <a class="el" href="em__usbtimer_8c_source.html#l00135">USBTIMER_DelayMs()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="group__USB__HOST_gac57479eb6271bc262a6652b50fd122ce_cgraph.png" border="0" usemap="#group__USB__HOST_gac57479eb6271bc262a6652b50fd122ce_cgraph_map" alt=""></div>
<map name="group__USB__HOST_gac57479eb6271bc262a6652b50fd122ce_cgraph_map" id="group__USB__HOST_gac57479eb6271bc262a6652b50fd122ce_cgraph">
<area shape="rect" id="node2" href="group__USB__COMMON.html#gabb1c11cad365c7c3b99a3e7826035951" title="Active wait millisecond delay function." alt="" coords="176,5,323,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gaa2cb3b486c0d628c23cce6a26984580b"></a><!-- doxytag: member="em_usb.h::USBH_PortResume" ref="gaa2cb3b486c0d628c23cce6a26984580b" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int USBH_PortResume </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Drive resume signalling on the USB port. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="group__USB__COMMON.html#gga889b575b566a663621c33eebf46272c1a7fc3604700f290c08102ab7a60dbeac2">USB_STATUS_OK</a> on success, else an appropriate error code. </dd></dl>

<p>Definition at line <a class="el" href="em__usbh_8c_source.html#l01002">1002</a> of file <a class="el" href="em__usbh_8c_source.html">em_usbh.c</a>.</p>

<p>References <a class="el" href="em__usb_8h_source.html#l00323">USB_STATUS_ILLEGAL</a>, <a class="el" href="em__usb_8h_source.html#l00319">USB_STATUS_OK</a>, and <a class="el" href="em__usbtimer_8c_source.html#l00135">USBTIMER_DelayMs()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="group__USB__HOST_gaa2cb3b486c0d628c23cce6a26984580b_cgraph.png" border="0" usemap="#group__USB__HOST_gaa2cb3b486c0d628c23cce6a26984580b_cgraph_map" alt=""></div>
<map name="group__USB__HOST_gaa2cb3b486c0d628c23cce6a26984580b_cgraph_map" id="group__USB__HOST_gaa2cb3b486c0d628c23cce6a26984580b_cgraph">
<area shape="rect" id="node2" href="group__USB__COMMON.html#gabb1c11cad365c7c3b99a3e7826035951" title="Active wait millisecond delay function." alt="" coords="195,5,341,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga3b518bcdfa5c19f42a362736767f273c"></a><!-- doxytag: member="em_usb.h::USBH_PortSuspend" ref="ga3b518bcdfa5c19f42a362736767f273c" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USBH_PortSuspend </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set the USB port in suspend mode. </p>

<p>Definition at line <a class="el" href="em__usbh_8c_source.html#l01026">1026</a> of file <a class="el" href="em__usbh_8c_source.html">em_usbh.c</a>.</p>

</div>
</div>
<a class="anchor" id="gab7a5bb1a4f4cae3b9cc0556b98d3a4d9"></a><!-- doxytag: member="em_usb.h::USBH_PrintConfigurationDescriptor" ref="gab7a5bb1a4f4cae3b9cc0556b98d3a4d9" args="(const USB_ConfigurationDescriptor_TypeDef *config, int maxLen)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int USBH_PrintConfigurationDescriptor </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structUSB__ConfigurationDescriptor__TypeDef.html">USB_ConfigurationDescriptor_TypeDef</a> *&nbsp;</td>
          <td class="paramname"> <em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>maxLen</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Pretty print a configuration descriptor on the debug serial port. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>This function is enabled when #define USB_USE_PRINTF and #define USER_PUTCHAR macros are properly defined when configuring the protocol stack in "usbconfig.h". The function is primarily meant for debugging purposes.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>config</em>&nbsp;</td><td>Pointer to a <a class="el" href="structUSB__ConfigurationDescriptor__TypeDef.html">USB_ConfigurationDescriptor_TypeDef</a> data structure.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>maxLen</em>&nbsp;</td><td>The size of the data buffer passed as input parameter <em>config</em>. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="em__usbh_8c_source.html#l01075">1075</a> of file <a class="el" href="em__usbh_8c_source.html">em_usbh.c</a>.</p>

<p>References <a class="el" href="em__usb_8h_source.html#l00439">USB_ConfigurationDescriptor_TypeDef::bConfigurationValue</a>, <a class="el" href="em__usb_8h_source.html#l00431">USB_ConfigurationDescriptor_TypeDef::bDescriptorType</a>, <a class="el" href="em__usb_8h_source.html#l00430">USB_ConfigurationDescriptor_TypeDef::bLength</a>, <a class="el" href="em__usb_8h_source.html#l00444">USB_ConfigurationDescriptor_TypeDef::bmAttributes</a>, <a class="el" href="em__usb_8h_source.html#l00449">USB_ConfigurationDescriptor_TypeDef::bMaxPower</a>, <a class="el" href="em__usb_8h_source.html#l00437">USB_ConfigurationDescriptor_TypeDef::bNumInterfaces</a>, <a class="el" href="em__usb_8h_source.html#l00442">USB_ConfigurationDescriptor_TypeDef::iConfiguration</a>, <a class="el" href="group__USB__COMMON.html#ga43cf32af5653cb2cd27fb6729be245fb">USB_PRINTF()</a>, <a class="el" href="group__USB__COMMON.html#gac49ccf1d69a08567d1a5911b0312e735">USB_PUTCHAR()</a>, <a class="el" href="em__usb_8h_source.html#l00323">USB_STATUS_ILLEGAL</a>, <a class="el" href="em__usb_8h_source.html#l00319">USB_STATUS_OK</a>, and <a class="el" href="em__usb_8h_source.html#l00432">USB_ConfigurationDescriptor_TypeDef::wTotalLength</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="group__USB__HOST_gab7a5bb1a4f4cae3b9cc0556b98d3a4d9_cgraph.png" border="0" usemap="#group__USB__HOST_gab7a5bb1a4f4cae3b9cc0556b98d3a4d9_cgraph_map" alt=""></div>
<map name="group__USB__HOST_gab7a5bb1a4f4cae3b9cc0556b98d3a4d9_cgraph_map" id="group__USB__HOST_gab7a5bb1a4f4cae3b9cc0556b98d3a4d9_cgraph">
<area shape="rect" id="node2" href="group__USB__COMMON.html#ga43cf32af5653cb2cd27fb6729be245fb" title="Transmit &quot;printf&quot; formated data on the debug serial port." alt="" coords="305,5,402,32"/><area shape="rect" id="node3" href="group__USB__COMMON.html#gac49ccf1d69a08567d1a5911b0312e735" title="Transmit a single char on the debug serial port." alt="" coords="296,56,411,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga465475632c744fb3fae7a73e09606fb3"></a><!-- doxytag: member="em_usb.h::USBH_PrintDeviceDescriptor" ref="ga465475632c744fb3fae7a73e09606fb3" args="(const USB_DeviceDescriptor_TypeDef *device)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int USBH_PrintDeviceDescriptor </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structUSB__DeviceDescriptor__TypeDef.html">USB_DeviceDescriptor_TypeDef</a> *&nbsp;</td>
          <td class="paramname"> <em>device</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Pretty print a device descriptor on the debug serial port. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>This function is enabled when #define USB_USE_PRINTF and #define USER_PUTCHAR macros are properly defined when configuring the protocol stack in "usbconfig.h". The function is primarily meant for debugging purposes.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>device</em>&nbsp;</td><td>Pointer to a <a class="el" href="structUSB__DeviceDescriptor__TypeDef.html">USB_DeviceDescriptor_TypeDef</a> data structure. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="em__usbh_8c_source.html#l01132">1132</a> of file <a class="el" href="em__usbh_8c_source.html">em_usbh.c</a>.</p>

<p>References <a class="el" href="em__usb_8h_source.html#l00416">USB_DeviceDescriptor_TypeDef::bcdDevice</a>, <a class="el" href="em__usb_8h_source.html#l00408">USB_DeviceDescriptor_TypeDef::bcdUSB</a>, <a class="el" href="em__usb_8h_source.html#l00407">USB_DeviceDescriptor_TypeDef::bDescriptorType</a>, <a class="el" href="em__usb_8h_source.html#l00410">USB_DeviceDescriptor_TypeDef::bDeviceClass</a>, <a class="el" href="em__usb_8h_source.html#l00412">USB_DeviceDescriptor_TypeDef::bDeviceProtocol</a>, <a class="el" href="em__usb_8h_source.html#l00411">USB_DeviceDescriptor_TypeDef::bDeviceSubClass</a>, <a class="el" href="em__usb_8h_source.html#l00406">USB_DeviceDescriptor_TypeDef::bLength</a>, <a class="el" href="em__usb_8h_source.html#l00413">USB_DeviceDescriptor_TypeDef::bMaxPacketSize0</a>, <a class="el" href="em__usb_8h_source.html#l00421">USB_DeviceDescriptor_TypeDef::bNumConfigurations</a>, <a class="el" href="em__usb_8h_source.html#l00415">USB_DeviceDescriptor_TypeDef::idProduct</a>, <a class="el" href="em__usb_8h_source.html#l00414">USB_DeviceDescriptor_TypeDef::idVendor</a>, <a class="el" href="em__usb_8h_source.html#l00417">USB_DeviceDescriptor_TypeDef::iManufacturer</a>, <a class="el" href="em__usb_8h_source.html#l00418">USB_DeviceDescriptor_TypeDef::iProduct</a>, <a class="el" href="em__usb_8h_source.html#l00419">USB_DeviceDescriptor_TypeDef::iSerialNumber</a>, <a class="el" href="group__USB__COMMON.html#ga43cf32af5653cb2cd27fb6729be245fb">USB_PRINTF()</a>, <a class="el" href="em__usb_8h_source.html#l00323">USB_STATUS_ILLEGAL</a>, and <a class="el" href="em__usb_8h_source.html#l00319">USB_STATUS_OK</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="group__USB__HOST_ga465475632c744fb3fae7a73e09606fb3_cgraph.png" border="0" usemap="#group__USB__HOST_ga465475632c744fb3fae7a73e09606fb3_cgraph_map" alt=""></div>
<map name="group__USB__HOST_ga465475632c744fb3fae7a73e09606fb3_cgraph_map" id="group__USB__HOST_ga465475632c744fb3fae7a73e09606fb3_cgraph">
<area shape="rect" id="node2" href="group__USB__COMMON.html#ga43cf32af5653cb2cd27fb6729be245fb" title="Transmit &quot;printf&quot; formated data on the debug serial port." alt="" coords="257,5,354,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gabe253e3e072d805774b8714aacf9182c"></a><!-- doxytag: member="em_usb.h::USBH_PrintEndpointDescriptor" ref="gabe253e3e072d805774b8714aacf9182c" args="(const USB_EndpointDescriptor_TypeDef *endpoint)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int USBH_PrintEndpointDescriptor </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structUSB__EndpointDescriptor__TypeDef.html">USB_EndpointDescriptor_TypeDef</a> *&nbsp;</td>
          <td class="paramname"> <em>endpoint</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Pretty print an endpoint descriptor on the debug serial port. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>This function is enabled when #define USB_USE_PRINTF and #define USER_PUTCHAR macros are properly defined when configuring the protocol stack in "usbconfig.h". The function is primarily meant for debugging purposes.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>endpoint</em>&nbsp;</td><td>Pointer to a <a class="el" href="structUSB__EndpointDescriptor__TypeDef.html">USB_EndpointDescriptor_TypeDef</a> data structure. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="em__usbh_8c_source.html#l01174">1174</a> of file <a class="el" href="em__usbh_8c_source.html">em_usbh.c</a>.</p>

<p>References <a class="el" href="em__usb_8h_source.html#l00501">USB_EndpointDescriptor_TypeDef::bDescriptorType</a>, <a class="el" href="em__usb_8h_source.html#l00502">USB_EndpointDescriptor_TypeDef::bEndpointAddress</a>, <a class="el" href="em__usb_8h_source.html#l00505">USB_EndpointDescriptor_TypeDef::bInterval</a>, <a class="el" href="em__usb_8h_source.html#l00500">USB_EndpointDescriptor_TypeDef::bLength</a>, <a class="el" href="em__usb_8h_source.html#l00503">USB_EndpointDescriptor_TypeDef::bmAttributes</a>, <a class="el" href="group__USB__COMMON.html#ga43cf32af5653cb2cd27fb6729be245fb">USB_PRINTF()</a>, <a class="el" href="em__usb_8h_source.html#l00323">USB_STATUS_ILLEGAL</a>, <a class="el" href="em__usb_8h_source.html#l00319">USB_STATUS_OK</a>, and <a class="el" href="em__usb_8h_source.html#l00504">USB_EndpointDescriptor_TypeDef::wMaxPacketSize</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="group__USB__HOST_gabe253e3e072d805774b8714aacf9182c_cgraph.png" border="0" usemap="#group__USB__HOST_gabe253e3e072d805774b8714aacf9182c_cgraph_map" alt=""></div>
<map name="group__USB__HOST_gabe253e3e072d805774b8714aacf9182c_cgraph_map" id="group__USB__HOST_gabe253e3e072d805774b8714aacf9182c_cgraph">
<area shape="rect" id="node2" href="group__USB__COMMON.html#ga43cf32af5653cb2cd27fb6729be245fb" title="Transmit &quot;printf&quot; formated data on the debug serial port." alt="" coords="265,5,362,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga7a4aa696c25dfd0b99a2cda6e02d7a36"></a><!-- doxytag: member="em_usb.h::USBH_PrintInterfaceDescriptor" ref="ga7a4aa696c25dfd0b99a2cda6e02d7a36" args="(const USB_InterfaceDescriptor_TypeDef *interface)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int USBH_PrintInterfaceDescriptor </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structUSB__InterfaceDescriptor__TypeDef.html">USB_InterfaceDescriptor_TypeDef</a> *&nbsp;</td>
          <td class="paramname"> <em>interface</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Pretty print an interface descriptor on the debug serial port. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>This function is enabled when #define USB_USE_PRINTF and #define USER_PUTCHAR macros are properly defined when configuring the protocol stack in "usbconfig.h". The function is primarily meant for debugging purposes.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>interface</em>&nbsp;</td><td>Pointer to a <a class="el" href="structUSB__InterfaceDescriptor__TypeDef.html">USB_InterfaceDescriptor_TypeDef</a> data structure. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="em__usbh_8c_source.html#l01209">1209</a> of file <a class="el" href="em__usbh_8c_source.html">em_usbh.c</a>.</p>

<p>References <a class="el" href="em__usb_8h_source.html#l00464">USB_InterfaceDescriptor_TypeDef::bAlternateSetting</a>, <a class="el" href="em__usb_8h_source.html#l00460">USB_InterfaceDescriptor_TypeDef::bDescriptorType</a>, <a class="el" href="em__usb_8h_source.html#l00469">USB_InterfaceDescriptor_TypeDef::bInterfaceClass</a>, <a class="el" href="em__usb_8h_source.html#l00461">USB_InterfaceDescriptor_TypeDef::bInterfaceNumber</a>, <a class="el" href="em__usb_8h_source.html#l00480">USB_InterfaceDescriptor_TypeDef::bInterfaceProtocol</a>, <a class="el" href="em__usb_8h_source.html#l00474">USB_InterfaceDescriptor_TypeDef::bInterfaceSubClass</a>, <a class="el" href="em__usb_8h_source.html#l00459">USB_InterfaceDescriptor_TypeDef::bLength</a>, <a class="el" href="em__usb_8h_source.html#l00466">USB_InterfaceDescriptor_TypeDef::bNumEndpoints</a>, <a class="el" href="em__usb_8h_source.html#l00490">USB_InterfaceDescriptor_TypeDef::iInterface</a>, <a class="el" href="group__USB__COMMON.html#ga43cf32af5653cb2cd27fb6729be245fb">USB_PRINTF()</a>, <a class="el" href="em__usb_8h_source.html#l00323">USB_STATUS_ILLEGAL</a>, and <a class="el" href="em__usb_8h_source.html#l00319">USB_STATUS_OK</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="group__USB__HOST_ga7a4aa696c25dfd0b99a2cda6e02d7a36_cgraph.png" border="0" usemap="#group__USB__HOST_ga7a4aa696c25dfd0b99a2cda6e02d7a36_cgraph_map" alt=""></div>
<map name="group__USB__HOST_ga7a4aa696c25dfd0b99a2cda6e02d7a36_cgraph_map" id="group__USB__HOST_ga7a4aa696c25dfd0b99a2cda6e02d7a36_cgraph">
<area shape="rect" id="node2" href="group__USB__COMMON.html#ga43cf32af5653cb2cd27fb6729be245fb" title="Transmit &quot;printf&quot; formated data on the debug serial port." alt="" coords="267,5,365,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga60806aa452e18cee2002a2a5de015982"></a><!-- doxytag: member="em_usb.h::USBH_PrintString" ref="ga60806aa452e18cee2002a2a5de015982" args="(const char *pre, const USB_StringDescriptor_TypeDef *s, const char *post)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USBH_PrintString </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>pre</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structUSB__StringDescriptor__TypeDef.html">USB_StringDescriptor_TypeDef</a> *&nbsp;</td>
          <td class="paramname"> <em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>post</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Print a USB string descriptor on the debug serial port. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>This function is enabled when the #define USER_PUTCHAR macro is properly defined when configuring the protocol stack in "usbconfig.h". The function is primarily meant for debugging purposes.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>pre</em>&nbsp;</td><td>Optional text string to prepend to the string descriptor. Pass NULL if not needed.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>s</em>&nbsp;</td><td>Pointer to a <a class="el" href="structUSB__StringDescriptor__TypeDef.html">USB_StringDescriptor_TypeDef</a> data structure.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>post</em>&nbsp;</td><td>Optional text string to append to the string descriptor. Pass NULL if not needed. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="em__usbh_8c_source.html#l01258">1258</a> of file <a class="el" href="em__usbh_8c_source.html">em_usbh.c</a>.</p>

<p>References <a class="el" href="em__usb_8h_source.html#l00516">USB_StringDescriptor_TypeDef::name</a>, <a class="el" href="group__USB__COMMON.html#gac49ccf1d69a08567d1a5911b0312e735">USB_PUTCHAR()</a>, and <a class="el" href="group__USB__COMMON.html#ga7276e056a2f6aeb99240f72529f41f8f">USB_PUTS()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="group__USB__HOST_ga60806aa452e18cee2002a2a5de015982_cgraph.png" border="0" usemap="#group__USB__HOST_ga60806aa452e18cee2002a2a5de015982_cgraph_map" alt=""></div>
<map name="group__USB__HOST_ga60806aa452e18cee2002a2a5de015982_cgraph_map" id="group__USB__HOST_ga60806aa452e18cee2002a2a5de015982_cgraph">
<area shape="rect" id="node2" href="group__USB__COMMON.html#gac49ccf1d69a08567d1a5911b0312e735" title="Transmit a single char on the debug serial port." alt="" coords="181,5,296,32"/><area shape="rect" id="node3" href="group__USB__COMMON.html#ga7276e056a2f6aeb99240f72529f41f8f" title="Transmit a zero terminated string on the debug serial port." alt="" coords="195,56,282,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga2ac91d938f8553e31913afdb8d8d80dc"></a><!-- doxytag: member="em_usb.h::USBH_QGetConfigurationDescriptor" ref="ga2ac91d938f8553e31913afdb8d8d80dc" args="(const uint8_t *buf, int configIndex)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structUSB__ConfigurationDescriptor__TypeDef.html">USB_ConfigurationDescriptor_TypeDef</a>* USBH_QGetConfigurationDescriptor </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>configIndex</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return a pointer to a configuration descriptor. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>This function search through <em>buf</em> looking for a given configuration descriptor.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>buf</em>&nbsp;</td><td>A data buffer containing enumeration data retrieved with <a class="el" href="group__USB__HOST.html#gae9ef72709bb00accb740a0350f79fe35">USBH_QueryDeviceB()</a>.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>configIndex</em>&nbsp;</td><td>Configuration index, a zero based number indicating which configuration descriptor to find.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A pointer to <a class="el" href="structUSB__ConfigurationDescriptor__TypeDef.html">USB_ConfigurationDescriptor_TypeDef</a>. NULL if no descriptor found. </dd></dl>

<p>Definition at line <a class="el" href="em__usbh_8c_source.html#l01321">1321</a> of file <a class="el" href="em__usbh_8c_source.html">em_usbh.c</a>.</p>

<p>References <a class="el" href="em__usb_8h_source.html#l00117">USB_CONFIG_DESCRIPTOR</a>, <a class="el" href="em__usb_8h_source.html#l00145">USB_CONFIG_DESCSIZE</a>, and <a class="el" href="em__usbh_8c_source.html#l01377">USBH_QGetDeviceDescriptor()</a>.</p>

<p>Referenced by <a class="el" href="em__usbh_8c_source.html#l01496">USBH_QGetInterfaceDescriptor()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="group__USB__HOST_ga2ac91d938f8553e31913afdb8d8d80dc_cgraph.png" border="0" usemap="#group__USB__HOST_ga2ac91d938f8553e31913afdb8d8d80dc_cgraph_map" alt=""></div>
<map name="group__USB__HOST_ga2ac91d938f8553e31913afdb8d8d80dc_cgraph_map" id="group__USB__HOST_ga2ac91d938f8553e31913afdb8d8d80dc_cgraph">
<area shape="rect" id="node2" href="group__USB__HOST.html#ga4d6a8d78ebde4e394bb25aa62a871b30" title="Return a pointer to the device descriptor." alt="" coords="302,5,509,32"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="group__USB__HOST_ga2ac91d938f8553e31913afdb8d8d80dc_icgraph.png" border="0" usemap="#group__USB__HOST_ga2ac91d938f8553e31913afdb8d8d80dc_icgraph_map" alt=""></div>
<map name="group__USB__HOST_ga2ac91d938f8553e31913afdb8d8d80dc_icgraph_map" id="group__USB__HOST_ga2ac91d938f8553e31913afdb8d8d80dc_icgraph">
<area shape="rect" id="node2" href="group__USB__HOST.html#gabd04b4b1ea26459d6db42aa77b6d592d" title="Return a pointer to an interface descriptor." alt="" coords="301,31,520,57"/><area shape="rect" id="node3" href="group__USB__HOST.html#ga50dc10ac598c6c8479319ff58c186266" title="Populate device and endpoint data structures with data retrieved during device enumeration..." alt="" coords="835,31,991,57"/><area shape="rect" id="node6" href="group__USB__HOST.html#ga10e6eb1a2e9802af4ec16254e3d44783" title="Return a pointer to an endpoint descriptor." alt="" coords="569,56,786,83"/><area shape="rect" id="node4" href="group__USB__HOST.html#gae9ef72709bb00accb740a0350f79fe35" title="Will request both the device descriptor and the entire configuration descriptor from..." alt="" coords="1081,5,1237,32"/><area shape="rect" id="node5" href="group__USB__HOST.html#ga62f99f2ed786c98d00935fc2fd140aaf" title="Wait for device connection." alt="" coords="1040,56,1277,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga4d6a8d78ebde4e394bb25aa62a871b30"></a><!-- doxytag: member="em_usb.h::USBH_QGetDeviceDescriptor" ref="ga4d6a8d78ebde4e394bb25aa62a871b30" args="(const uint8_t *buf)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structUSB__DeviceDescriptor__TypeDef.html">USB_DeviceDescriptor_TypeDef</a>* USBH_QGetDeviceDescriptor </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&nbsp;</td>
          <td class="paramname"> <em>buf</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return a pointer to the device descriptor. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>buf</em>&nbsp;</td><td>A data buffer containing enumeration data retrieved with <a class="el" href="group__USB__HOST.html#gae9ef72709bb00accb740a0350f79fe35">USBH_QueryDeviceB()</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A pointer to <a class="el" href="structUSB__DeviceDescriptor__TypeDef.html">USB_DeviceDescriptor_TypeDef</a>. NULL if no descriptor found. </dd></dl>

<p>Definition at line <a class="el" href="em__usbh_8c_source.html#l01377">1377</a> of file <a class="el" href="em__usbh_8c_source.html">em_usbh.c</a>.</p>

<p>References <a class="el" href="em__usb_8h_source.html#l00407">USB_DeviceDescriptor_TypeDef::bDescriptorType</a>, <a class="el" href="em__usb_8h_source.html#l00406">USB_DeviceDescriptor_TypeDef::bLength</a>, <a class="el" href="em__usb_8h_source.html#l00116">USB_DEVICE_DESCRIPTOR</a>, and <a class="el" href="em__usb_8h_source.html#l00144">USB_DEVICE_DESCSIZE</a>.</p>

<p>Referenced by <a class="el" href="em__usbh_8c_source.html#l01321">USBH_QGetConfigurationDescriptor()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="group__USB__HOST_ga4d6a8d78ebde4e394bb25aa62a871b30_icgraph.png" border="0" usemap="#group__USB__HOST_ga4d6a8d78ebde4e394bb25aa62a871b30_icgraph_map" alt=""></div>
<map name="group__USB__HOST_ga4d6a8d78ebde4e394bb25aa62a871b30_icgraph_map" id="group__USB__HOST_ga4d6a8d78ebde4e394bb25aa62a871b30_icgraph">
<area shape="rect" id="node2" href="group__USB__HOST.html#ga2ac91d938f8553e31913afdb8d8d80dc" title="Return a pointer to a configuration descriptor." alt="" coords="261,31,509,57"/><area shape="rect" id="node3" href="group__USB__HOST.html#gabd04b4b1ea26459d6db42aa77b6d592d" title="Return a pointer to an interface descriptor." alt="" coords="557,31,776,57"/><area shape="rect" id="node4" href="group__USB__HOST.html#ga50dc10ac598c6c8479319ff58c186266" title="Populate device and endpoint data structures with data retrieved during device enumeration..." alt="" coords="1091,31,1247,57"/><area shape="rect" id="node7" href="group__USB__HOST.html#ga10e6eb1a2e9802af4ec16254e3d44783" title="Return a pointer to an endpoint descriptor." alt="" coords="825,56,1042,83"/><area shape="rect" id="node5" href="group__USB__HOST.html#gae9ef72709bb00accb740a0350f79fe35" title="Will request both the device descriptor and the entire configuration descriptor from..." alt="" coords="1337,5,1493,32"/><area shape="rect" id="node6" href="group__USB__HOST.html#ga62f99f2ed786c98d00935fc2fd140aaf" title="Wait for device connection." alt="" coords="1296,56,1533,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga10e6eb1a2e9802af4ec16254e3d44783"></a><!-- doxytag: member="em_usb.h::USBH_QGetEndpointDescriptor" ref="ga10e6eb1a2e9802af4ec16254e3d44783" args="(const uint8_t *buf, int configIndex, int interfaceIndex, int endpointIndex)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structUSB__EndpointDescriptor__TypeDef.html">USB_EndpointDescriptor_TypeDef</a>* USBH_QGetEndpointDescriptor </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>configIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>interfaceIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>endpointIndex</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return a pointer to an endpoint descriptor. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>This function search through <em>buf</em> looking for a given endpoint descriptor.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>buf</em>&nbsp;</td><td>A data buffer containing enumeration data retrieved with <a class="el" href="group__USB__HOST.html#gae9ef72709bb00accb740a0350f79fe35">USBH_QueryDeviceB()</a>.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>configIndex</em>&nbsp;</td><td>Configuration index, a zero based number indicating in which configuration descriptor to look for the interface containing the endpoint descriptor.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>interfaceIndex</em>&nbsp;</td><td>Interface index, a zero based number indicating the interface descriptor to look for the correct endpoint descriptor in.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>endpointIndex</em>&nbsp;</td><td>Endpoint index, a zero based number indicating which endpoint descriptor to look for.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A pointer to <a class="el" href="structUSB__EndpointDescriptor__TypeDef.html">USB_EndpointDescriptor_TypeDef</a>. NULL if no descriptor found. </dd></dl>

<p>Definition at line <a class="el" href="em__usbh_8c_source.html#l01424">1424</a> of file <a class="el" href="em__usbh_8c_source.html">em_usbh.c</a>.</p>

<p>References <a class="el" href="em__usb_8h_source.html#l00121">USB_ENDPOINT_DESCRIPTOR</a>, <a class="el" href="em__usb_8h_source.html#l00147">USB_ENDPOINT_DESCSIZE</a>, <a class="el" href="em__usb_8h_source.html#l00146">USB_INTERFACE_DESCSIZE</a>, and <a class="el" href="em__usbh_8c_source.html#l01496">USBH_QGetInterfaceDescriptor()</a>.</p>

<p>Referenced by <a class="el" href="em__usbh_8c_source.html#l00895">USBH_InitDeviceData()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="group__USB__HOST_ga10e6eb1a2e9802af4ec16254e3d44783_cgraph.png" border="0" usemap="#group__USB__HOST_ga10e6eb1a2e9802af4ec16254e3d44783_cgraph_map" alt=""></div>
<map name="group__USB__HOST_ga10e6eb1a2e9802af4ec16254e3d44783_cgraph_map" id="group__USB__HOST_ga10e6eb1a2e9802af4ec16254e3d44783_cgraph">
<area shape="rect" id="node2" href="group__USB__HOST.html#gabd04b4b1ea26459d6db42aa77b6d592d" title="Return a pointer to an interface descriptor." alt="" coords="272,5,491,32"/><area shape="rect" id="node3" href="group__USB__HOST.html#ga2ac91d938f8553e31913afdb8d8d80dc" title="Return a pointer to a configuration descriptor." alt="" coords="539,5,787,32"/><area shape="rect" id="node4" href="group__USB__HOST.html#ga4d6a8d78ebde4e394bb25aa62a871b30" title="Return a pointer to the device descriptor." alt="" coords="835,5,1042,32"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="group__USB__HOST_ga10e6eb1a2e9802af4ec16254e3d44783_icgraph.png" border="0" usemap="#group__USB__HOST_ga10e6eb1a2e9802af4ec16254e3d44783_icgraph_map" alt=""></div>
<map name="group__USB__HOST_ga10e6eb1a2e9802af4ec16254e3d44783_icgraph_map" id="group__USB__HOST_ga10e6eb1a2e9802af4ec16254e3d44783_icgraph">
<area shape="rect" id="node2" href="group__USB__HOST.html#ga50dc10ac598c6c8479319ff58c186266" title="Populate device and endpoint data structures with data retrieved during device enumeration..." alt="" coords="273,31,429,57"/><area shape="rect" id="node3" href="group__USB__HOST.html#gae9ef72709bb00accb740a0350f79fe35" title="Will request both the device descriptor and the entire configuration descriptor from..." alt="" coords="518,5,674,32"/><area shape="rect" id="node4" href="group__USB__HOST.html#ga62f99f2ed786c98d00935fc2fd140aaf" title="Wait for device connection." alt="" coords="477,56,715,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gabd04b4b1ea26459d6db42aa77b6d592d"></a><!-- doxytag: member="em_usb.h::USBH_QGetInterfaceDescriptor" ref="gabd04b4b1ea26459d6db42aa77b6d592d" args="(const uint8_t *buf, int configIndex, int interfaceIndex)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structUSB__InterfaceDescriptor__TypeDef.html">USB_InterfaceDescriptor_TypeDef</a>* USBH_QGetInterfaceDescriptor </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>configIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>interfaceIndex</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return a pointer to an interface descriptor. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>This function search through <em>buf</em> looking for a given interface descriptor.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>buf</em>&nbsp;</td><td>A data buffer containing enumeration data retrieved with <a class="el" href="group__USB__HOST.html#gae9ef72709bb00accb740a0350f79fe35">USBH_QueryDeviceB()</a>.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>configIndex</em>&nbsp;</td><td>Configuration index, a zero based number indicating in which configuration descriptor to look for the interface descriptor.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>interfaceIndex</em>&nbsp;</td><td>Interface index, a zero based number indicating which interface descriptor to find.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A pointer to <a class="el" href="structUSB__InterfaceDescriptor__TypeDef.html">USB_InterfaceDescriptor_TypeDef</a>. NULL if no descriptor found. </dd></dl>

<p>Definition at line <a class="el" href="em__usbh_8c_source.html#l01496">1496</a> of file <a class="el" href="em__usbh_8c_source.html">em_usbh.c</a>.</p>

<p>References <a class="el" href="em__usb_8h_source.html#l00145">USB_CONFIG_DESCSIZE</a>, <a class="el" href="em__usb_8h_source.html#l00120">USB_INTERFACE_DESCRIPTOR</a>, <a class="el" href="em__usb_8h_source.html#l00146">USB_INTERFACE_DESCSIZE</a>, and <a class="el" href="em__usbh_8c_source.html#l01321">USBH_QGetConfigurationDescriptor()</a>.</p>

<p>Referenced by <a class="el" href="em__usbh_8c_source.html#l00895">USBH_InitDeviceData()</a>, and <a class="el" href="em__usbh_8c_source.html#l01424">USBH_QGetEndpointDescriptor()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="group__USB__HOST_gabd04b4b1ea26459d6db42aa77b6d592d_cgraph.png" border="0" usemap="#group__USB__HOST_gabd04b4b1ea26459d6db42aa77b6d592d_cgraph_map" alt=""></div>
<map name="group__USB__HOST_gabd04b4b1ea26459d6db42aa77b6d592d_cgraph_map" id="group__USB__HOST_gabd04b4b1ea26459d6db42aa77b6d592d_cgraph">
<area shape="rect" id="node2" href="group__USB__HOST.html#ga2ac91d938f8553e31913afdb8d8d80dc" title="Return a pointer to a configuration descriptor." alt="" coords="272,5,520,32"/><area shape="rect" id="node3" href="group__USB__HOST.html#ga4d6a8d78ebde4e394bb25aa62a871b30" title="Return a pointer to the device descriptor." alt="" coords="569,5,775,32"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="group__USB__HOST_gabd04b4b1ea26459d6db42aa77b6d592d_icgraph.png" border="0" usemap="#group__USB__HOST_gabd04b4b1ea26459d6db42aa77b6d592d_icgraph_map" alt=""></div>
<map name="group__USB__HOST_gabd04b4b1ea26459d6db42aa77b6d592d_icgraph_map" id="group__USB__HOST_gabd04b4b1ea26459d6db42aa77b6d592d_icgraph">
<area shape="rect" id="node2" href="group__USB__HOST.html#ga50dc10ac598c6c8479319ff58c186266" title="Populate device and endpoint data structures with data retrieved during device enumeration..." alt="" coords="539,31,695,57"/><area shape="rect" id="node5" href="group__USB__HOST.html#ga10e6eb1a2e9802af4ec16254e3d44783" title="Return a pointer to an endpoint descriptor." alt="" coords="273,56,490,83"/><area shape="rect" id="node3" href="group__USB__HOST.html#gae9ef72709bb00accb740a0350f79fe35" title="Will request both the device descriptor and the entire configuration descriptor from..." alt="" coords="785,5,941,32"/><area shape="rect" id="node4" href="group__USB__HOST.html#ga62f99f2ed786c98d00935fc2fd140aaf" title="Wait for device connection." alt="" coords="744,56,981,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gae9ef72709bb00accb740a0350f79fe35"></a><!-- doxytag: member="em_usb.h::USBH_QueryDeviceB" ref="gae9ef72709bb00accb740a0350f79fe35" args="(uint8_t *buf, size_t bufsize, uint8_t deviceSpeed)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int USBH_QueryDeviceB </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>bufsize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>deviceSpeed</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Will request both the device descriptor and the entire configuration descriptor from the device at USB address 0. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>This function is normally used to retrieve the data needed by <a class="el" href="group__USB__HOST.html#ga50dc10ac598c6c8479319ff58c186266">USBH_InitDeviceData()</a>. <br/>
 This function is blocking and will not return before the transfer has completed, timed out (1 second) or failed.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>buf</em>&nbsp;</td><td>A data buffer with sufficent space for the descriptors. The data buffer size must be sizeof( <a class="el" href="structUSBH__Device__TypeDef.html">USBH_Device_TypeDef</a> ) + the anticipated maximum size of the entire configuration descriptor.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>bufsize</em>&nbsp;</td><td>The size of the data buffer.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>deviceSpeed</em>&nbsp;</td><td><a class="el" href="group__USB__COMMON.html#gac483b34de71117d1db0dc1d9c1f896d9">PORT_FULL_SPEED</a> or <a class="el" href="group__USB__COMMON.html#gab35af8fb505263e1e594d07f9e5c8253">PORT_LOW_SPEED</a>.</td></tr>
  </table>
  </dd>
</dl>
<p>The device speed can be determined with <a class="el" href="group__USB__HOST.html#gad011363a4aa7f78c702a361bcebe67fb">USBH_GetPortSpeed()</a> for devices directly attached to the USB port. Devices attached via a hub must retrieve this information by querying the hub. </p>

<p>Definition at line <a class="el" href="em__usbh_8c_source.html#l01572">1572</a> of file <a class="el" href="em__usbh_8c_source.html">em_usbh.c</a>.</p>

<p>References <a class="el" href="em__usb_8h_source.html#l00413">USB_DeviceDescriptor_TypeDef::bMaxPacketSize0</a>, <a class="el" href="em__usb_8h_source.html#l00892">USBH_Device_TypeDef::confDesc</a>, <a class="el" href="em__usb_8h_source.html#l00891">USBH_Device_TypeDef::devDesc</a>, <a class="el" href="em__usb_8h_source.html#l00895">USBH_Device_TypeDef::ep</a>, <a class="el" href="em__usb_8h_source.html#l00894">USBH_Device_TypeDef::ep0</a>, <a class="el" href="em__usb_8h_source.html#l00869">USBH_Ep_TypeDef::packetSize</a>, <a class="el" href="em__usb_8h_source.html#l00898">USBH_Device_TypeDef::speed</a>, <a class="el" href="em__usb_8h_source.html#l00145">USB_CONFIG_DESCSIZE</a>, <a class="el" href="em__usb_8h_source.html#l00144">USB_DEVICE_DESCSIZE</a>, <a class="el" href="em__usb_8h_source.html#l00146">USB_INTERFACE_DESCSIZE</a>, <a class="el" href="em__usb_8h_source.html#l00319">USB_STATUS_OK</a>, <a class="el" href="em__usb_8h_source.html#l00320">USB_STATUS_REQ_ERR</a>, <a class="el" href="em__usbh_8c_source.html#l00637">USBH_GetConfigurationDescriptorB()</a>, <a class="el" href="em__usbh_8c_source.html#l00694">USBH_GetDeviceDescriptorB()</a>, <a class="el" href="em__usbh_8c_source.html#l00895">USBH_InitDeviceData()</a>, and <a class="el" href="em__usb_8h_source.html#l00432">USB_ConfigurationDescriptor_TypeDef::wTotalLength</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="group__USB__HOST_gae9ef72709bb00accb740a0350f79fe35_cgraph.png" border="0" usemap="#group__USB__HOST_gae9ef72709bb00accb740a0350f79fe35_cgraph_map" alt=""></div>
<map name="group__USB__HOST_gae9ef72709bb00accb740a0350f79fe35_cgraph_map" id="group__USB__HOST_gae9ef72709bb00accb740a0350f79fe35_cgraph">
<area shape="rect" id="node2" href="group__USB__HOST.html#gad09af4f14c4b205a9e159cb4c5fa7b8f" title="Read a configuration descriptor from a device." alt="" coords="211,17,456,44"/><area shape="rect" id="node8" href="group__USB__HOST.html#ga2656404a391e6894b03dde7d42d11f4f" title="Read a device descriptor from a device." alt="" coords="231,68,435,95"/><area shape="rect" id="node9" href="group__USB__HOST.html#ga50dc10ac598c6c8479319ff58c186266" title="Populate device and endpoint data structures with data retrieved during device enumeration..." alt="" coords="255,119,411,145"/><area shape="rect" id="node3" href="group__USB__HOST.html#gad94fe14defe6b7e33472364c65f07f17" title="Send a SETUP command to a device, blocking version." alt="" coords="542,43,685,69"/><area shape="rect" id="node4" href="group__USB__HOST.html#ga0b43c59fc9d3c91d0039f761ef4d6333" title="Send a SETUP command to a device, non&#45;blocking version." alt="" coords="813,43,947,69"/><area shape="rect" id="node5" href="group__USB__HOST.html#gaf791f134a36bb5376abaf59c45b84e84" title="Check if a device is connected." alt="" coords="1072,5,1251,32"/><area shape="rect" id="node6" href="group__USB__COMMON.html#gac2a406f16d989b04c4fc5b37d5c10b45" title="Start a timer." alt="" coords="1101,56,1222,83"/><area shape="rect" id="node7" href="group__USB__COMMON.html#gab73c922427cf0d509788a8063451703f" title="Stop a timer." alt="" coords="1377,56,1497,83"/><area shape="rect" id="node10" href="group__USB__HOST.html#ga10e6eb1a2e9802af4ec16254e3d44783" title="Return a pointer to an endpoint descriptor." alt="" coords="505,93,722,120"/><area shape="rect" id="node11" href="group__USB__HOST.html#gabd04b4b1ea26459d6db42aa77b6d592d" title="Return a pointer to an interface descriptor." alt="" coords="771,119,989,145"/><area shape="rect" id="node12" href="group__USB__HOST.html#ga2ac91d938f8553e31913afdb8d8d80dc" title="Return a pointer to a configuration descriptor." alt="" coords="1037,119,1285,145"/><area shape="rect" id="node13" href="group__USB__HOST.html#ga4d6a8d78ebde4e394bb25aa62a871b30" title="Return a pointer to the device descriptor." alt="" coords="1334,119,1541,145"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga3514adea6bc6da41b8a083153e3f9365"></a><!-- doxytag: member="em_usb.h::USBH_Read" ref="ga3514adea6bc6da41b8a083153e3f9365" args="(USBH_Ep_TypeDef *ep, void *data, int byteCount, int timeout, USB_XferCompleteCb_TypeDef callback)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int USBH_Read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structUSBH__Ep__TypeDef.html">USBH_Ep_TypeDef</a> *&nbsp;</td>
          <td class="paramname"> <em>ep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>byteCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>timeout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__USB__COMMON.html#ga521fe3060be2a8de6fdd5ee01193958b">USB_XferCompleteCb_TypeDef</a>&nbsp;</td>
          <td class="paramname"> <em>callback</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read data from device endpoint, non-blocking version. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>The transfer buffer length must be a multiple of 4 bytes in length and WORD (4 byte) aligned. When allocating the buffer, round buffer length up. If it is possible that the host will send more data than your device expects, round buffer size up to the next multiple of maxpacket size. <br/>
 This function is non-blocking and returns immediately.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>ep</em>&nbsp;</td><td>Pointer to a <a class="el" href="structUSBH__Ep__TypeDef.html">USBH_Ep_TypeDef</a> data structure.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>data</em>&nbsp;</td><td>Pointer to transfer data buffer.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>byteCount</em>&nbsp;</td><td>Number of bytes to transfer (zero is a valid value).</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>timeout</em>&nbsp;</td><td>Transfer timeout in milliseconds. The transfer will be terminated if not completed within <em>timeout</em> milliseconds. A value of 0 means infinite.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>callback</em>&nbsp;</td><td>Function to be called on transfer completion. Supply NULL if no callback is needed. See <a class="el" href="group__USB__COMMON.html#ga521fe3060be2a8de6fdd5ee01193958b">USB_XferCompleteCb_TypeDef</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="group__USB__COMMON.html#gga889b575b566a663621c33eebf46272c1a7fc3604700f290c08102ab7a60dbeac2">USB_STATUS_OK</a> on success, else an appropriate error code. </dd></dl>

<p>Definition at line <a class="el" href="em__usbh_8c_source.html#l01662">1662</a> of file <a class="el" href="em__usbh_8c_source.html">em_usbh.c</a>.</p>

<p>References <a class="el" href="em__usb_8h_source.html#l00505">USB_EndpointDescriptor_TypeDef::bInterval</a>, <a class="el" href="em__usb_8h_source.html#l00876">USBH_Ep_TypeDef::buf</a>, <a class="el" href="em__usb_8h_source.html#l00866">USBH_Ep_TypeDef::epDesc</a>, <a class="el" href="em__usb_8h_source.html#l00852">H_EP_DATA_IN</a>, <a class="el" href="em__usb_8h_source.html#l00850">H_EP_IDLE</a>, <a class="el" href="em__usb_8h_source.html#l00871">USBH_Ep_TypeDef::hcIn</a>, <a class="el" href="em__usb_8h_source.html#l00872">USBH_Ep_TypeDef::in</a>, <a class="el" href="em__usb_8h_source.html#l00869">USBH_Ep_TypeDef::packetSize</a>, <a class="el" href="em__usb_8h_source.html#l00881">USBH_Ep_TypeDef::remaining</a>, <a class="el" href="em__usb_8h_source.html#l00874">USBH_Ep_TypeDef::state</a>, <a class="el" href="em__usb_8h_source.html#l00882">USBH_Ep_TypeDef::timeout</a>, <a class="el" href="em__usb_8h_source.html#l00868">USBH_Ep_TypeDef::type</a>, <a class="el" href="em__usb_8h_source.html#l00172">USB_EPTYPE_INTR</a>, <a class="el" href="em__usb_8h_source.html#l00321">USB_STATUS_EP_BUSY</a>, <a class="el" href="em__usb_8h_source.html#l00333">USB_STATUS_HC_BUSY</a>, <a class="el" href="em__usb_8h_source.html#l00323">USB_STATUS_ILLEGAL</a>, <a class="el" href="em__usb_8h_source.html#l00319">USB_STATUS_OK</a>, <a class="el" href="em__usbh_8c_source.html#l00602">USBH_DeviceConnected()</a>, <a class="el" href="em__usbtimer_8c_source.html#l00234">USBTIMER_Start()</a>, <a class="el" href="em__usb_8h_source.html#l00879">USBH_Ep_TypeDef::xferCompleteCb</a>, <a class="el" href="em__usb_8h_source.html#l00877">USBH_Ep_TypeDef::xferCompleted</a>, and <a class="el" href="em__usb_8h_source.html#l00880">USBH_Ep_TypeDef::xferred</a>.</p>

<p>Referenced by <a class="el" href="em__usbh_8c_source.html#l01784">USBH_ReadB()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="group__USB__HOST_ga3514adea6bc6da41b8a083153e3f9365_cgraph.png" border="0" usemap="#group__USB__HOST_ga3514adea6bc6da41b8a083153e3f9365_cgraph_map" alt=""></div>
<map name="group__USB__HOST_ga3514adea6bc6da41b8a083153e3f9365_cgraph_map" id="group__USB__HOST_ga3514adea6bc6da41b8a083153e3f9365_cgraph">
<area shape="rect" id="node2" href="group__USB__HOST.html#gaf791f134a36bb5376abaf59c45b84e84" title="Check if a device is connected." alt="" coords="149,5,328,32"/><area shape="rect" id="node3" href="group__USB__COMMON.html#gac2a406f16d989b04c4fc5b37d5c10b45" title="Start a timer." alt="" coords="178,56,299,83"/><area shape="rect" id="node4" href="group__USB__COMMON.html#gab73c922427cf0d509788a8063451703f" title="Stop a timer." alt="" coords="376,56,496,83"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="group__USB__HOST_ga3514adea6bc6da41b8a083153e3f9365_icgraph.png" border="0" usemap="#group__USB__HOST_ga3514adea6bc6da41b8a083153e3f9365_icgraph_map" alt=""></div>
<map name="group__USB__HOST_ga3514adea6bc6da41b8a083153e3f9365_icgraph_map" id="group__USB__HOST_ga3514adea6bc6da41b8a083153e3f9365_icgraph">
<area shape="rect" id="node2" href="group__USB__HOST.html#gab5829c1ebeed8cfd36317dd57c6584c9" title="Read data from device endpoint, blocking version." alt="" coords="149,5,253,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gab5829c1ebeed8cfd36317dd57c6584c9"></a><!-- doxytag: member="em_usb.h::USBH_ReadB" ref="gab5829c1ebeed8cfd36317dd57c6584c9" args="(USBH_Ep_TypeDef *ep, void *data, int byteCount, int timeout)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int USBH_ReadB </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structUSBH__Ep__TypeDef.html">USBH_Ep_TypeDef</a> *&nbsp;</td>
          <td class="paramname"> <em>ep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>byteCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>timeout</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read data from device endpoint, blocking version. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>The transfer buffer length must be a multiple of 4 bytes in length and WORD (4 byte) aligned. When allocating the buffer, round buffer length up. If it is possible that the host will send more data than your device expects, round buffer size up to the next multiple of maxpacket size. <br/>
 This function is blocking and will not return before the transfer has completed, timed out or failed.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>ep</em>&nbsp;</td><td>Pointer to a <a class="el" href="structUSBH__Ep__TypeDef.html">USBH_Ep_TypeDef</a> data structure.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>data</em>&nbsp;</td><td>Pointer to transfer data buffer.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>byteCount</em>&nbsp;</td><td>Number of bytes to transfer (zero is a valid value).</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>timeout</em>&nbsp;</td><td>Transfer timeout in milliseconds. The transfer will be terminated if not completed within <em>timeout</em> milliseconds. A value of 0 means infinite.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A positive (or zero) value indicates number of bytes transferred. <br/>
 A negative value indicates a transfer error code enumerated in <a class="el" href="group__USB__COMMON.html#ga889b575b566a663621c33eebf46272c1">USB_Status_TypeDef</a>. </dd></dl>

<p>Definition at line <a class="el" href="em__usbh_8c_source.html#l01784">1784</a> of file <a class="el" href="em__usbh_8c_source.html">em_usbh.c</a>.</p>

<p>References <a class="el" href="em__usb_8h_source.html#l00323">USB_STATUS_ILLEGAL</a>, <a class="el" href="em__usb_8h_source.html#l00319">USB_STATUS_OK</a>, <a class="el" href="em__usbh_8c_source.html#l01662">USBH_Read()</a>, <a class="el" href="em__usb_8h_source.html#l00877">USBH_Ep_TypeDef::xferCompleted</a>, <a class="el" href="em__usb_8h_source.html#l00880">USBH_Ep_TypeDef::xferred</a>, and <a class="el" href="em__usb_8h_source.html#l00878">USBH_Ep_TypeDef::xferStatus</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="group__USB__HOST_gab5829c1ebeed8cfd36317dd57c6584c9_cgraph.png" border="0" usemap="#group__USB__HOST_gab5829c1ebeed8cfd36317dd57c6584c9_cgraph_map" alt=""></div>
<map name="group__USB__HOST_gab5829c1ebeed8cfd36317dd57c6584c9_cgraph_map" id="group__USB__HOST_gab5829c1ebeed8cfd36317dd57c6584c9_cgraph">
<area shape="rect" id="node2" href="group__USB__HOST.html#ga3514adea6bc6da41b8a083153e3f9365" title="Read data from device endpoint, non&#45;blocking version." alt="" coords="157,31,253,57"/><area shape="rect" id="node3" href="group__USB__HOST.html#gaf791f134a36bb5376abaf59c45b84e84" title="Check if a device is connected." alt="" coords="301,5,480,32"/><area shape="rect" id="node4" href="group__USB__COMMON.html#gac2a406f16d989b04c4fc5b37d5c10b45" title="Start a timer." alt="" coords="330,56,451,83"/><area shape="rect" id="node5" href="group__USB__COMMON.html#gab73c922427cf0d509788a8063451703f" title="Stop a timer." alt="" coords="528,56,648,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gac93ecf15f240abf7093506c8e8ef9e61"></a><!-- doxytag: member="em_usb.h::USBH_SetAddressB" ref="gac93ecf15f240abf7093506c8e8ef9e61" args="(USBH_Device_TypeDef *device, uint8_t deviceAddress)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int USBH_SetAddressB </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structUSBH__Device__TypeDef.html">USBH_Device_TypeDef</a> *&nbsp;</td>
          <td class="paramname"> <em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>deviceAddress</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Give a device an USB address. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>The device must currently have address 0. This command will move the device to the addressed state. <br/>
 This function is blocking and will not return before the transfer has completed, timed out (1 second) or failed.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>device</em>&nbsp;</td><td>Pointer to a <a class="el" href="structUSBH__Device__TypeDef.html">USBH_Device_TypeDef</a> data structure.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>deviceAddress</em>&nbsp;</td><td>The new device address. Provide a value between 0 and 127.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="group__USB__COMMON.html#gga889b575b566a663621c33eebf46272c1a7fc3604700f290c08102ab7a60dbeac2">USB_STATUS_OK</a> on success, else an appropriate error code. </dd></dl>

<p>Definition at line <a class="el" href="em__usbh_8c_source.html#l01831">1831</a> of file <a class="el" href="em__usbh_8c_source.html">em_usbh.c</a>.</p>

<p>References <a class="el" href="em__usb_8h_source.html#l00897">USBH_Device_TypeDef::addr</a>, <a class="el" href="em__usb_8h_source.html#l00894">USBH_Device_TypeDef::ep0</a>, <a class="el" href="em__usb_8h_source.html#l00082">SET_ADDRESS</a>, <a class="el" href="em__usb_8h_source.html#l00181">USB_MAX_DEVICE_ADDRESS</a>, <a class="el" href="em__usb_8h_source.html#l00062">USB_SETUP_DIR_H2D</a>, <a class="el" href="em__usb_8h_source.html#l00073">USB_SETUP_RECIPIENT_DEVICE</a>, <a class="el" href="em__usb_8h_source.html#l00068">USB_SETUP_TYPE_STANDARD_MASK</a>, <a class="el" href="em__usb_8h_source.html#l00323">USB_STATUS_ILLEGAL</a>, <a class="el" href="em__usb_8h_source.html#l00319">USB_STATUS_OK</a>, and <a class="el" href="em__usbh_8c_source.html#l00357">USBH_ControlMsgB()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="group__USB__HOST_gac93ecf15f240abf7093506c8e8ef9e61_cgraph.png" border="0" usemap="#group__USB__HOST_gac93ecf15f240abf7093506c8e8ef9e61_cgraph_map" alt=""></div>
<map name="group__USB__HOST_gac93ecf15f240abf7093506c8e8ef9e61_cgraph_map" id="group__USB__HOST_gac93ecf15f240abf7093506c8e8ef9e61_cgraph">
<area shape="rect" id="node2" href="group__USB__HOST.html#gad94fe14defe6b7e33472364c65f07f17" title="Send a SETUP command to a device, blocking version." alt="" coords="198,31,341,57"/><area shape="rect" id="node3" href="group__USB__HOST.html#ga0b43c59fc9d3c91d0039f761ef4d6333" title="Send a SETUP command to a device, non&#45;blocking version." alt="" coords="390,31,525,57"/><area shape="rect" id="node4" href="group__USB__HOST.html#gaf791f134a36bb5376abaf59c45b84e84" title="Check if a device is connected." alt="" coords="573,5,752,32"/><area shape="rect" id="node5" href="group__USB__COMMON.html#gac2a406f16d989b04c4fc5b37d5c10b45" title="Start a timer." alt="" coords="602,56,723,83"/><area shape="rect" id="node6" href="group__USB__COMMON.html#gab73c922427cf0d509788a8063451703f" title="Stop a timer." alt="" coords="800,56,920,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga0f156ce4b8660203cf4957c019064d9f"></a><!-- doxytag: member="em_usb.h::USBH_SetAltInterfaceB" ref="ga0f156ce4b8660203cf4957c019064d9f" args="(USBH_Device_TypeDef *device, uint8_t interfaceIndex, uint8_t alternateSetting)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int USBH_SetAltInterfaceB </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structUSBH__Device__TypeDef.html">USBH_Device_TypeDef</a> *&nbsp;</td>
          <td class="paramname"> <em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>interfaceIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>alternateSetting</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Activate a device interface within current device configuration. </p>
<dl class="note"><dt><b>Note:</b></dt><dd><br/>
 This function is blocking and will not return before the transfer has completed, timed out (1 second) or failed.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>device</em>&nbsp;</td><td>Pointer to a <a class="el" href="structUSBH__Device__TypeDef.html">USBH_Device_TypeDef</a> data structure.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>interfaceIndex</em>&nbsp;</td><td>The interface index. A zero based value.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>alternateSetting</em>&nbsp;</td><td>The alternate interface setting value.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="group__USB__COMMON.html#gga889b575b566a663621c33eebf46272c1a7fc3604700f290c08102ab7a60dbeac2">USB_STATUS_OK</a> on success, else an appropriate error code. </dd></dl>

<p>Definition at line <a class="el" href="em__usbh_8c_source.html#l01887">1887</a> of file <a class="el" href="em__usbh_8c_source.html">em_usbh.c</a>.</p>

<p>References <a class="el" href="em__usb_8h_source.html#l00895">USBH_Device_TypeDef::ep</a>, <a class="el" href="em__usb_8h_source.html#l00894">USBH_Device_TypeDef::ep0</a>, <a class="el" href="em__usb_8h_source.html#l00896">USBH_Device_TypeDef::numEp</a>, <a class="el" href="em__usb_8h_source.html#l00088">SET_INTERFACE</a>, <a class="el" href="em__usb_8h_source.html#l00873">USBH_Ep_TypeDef::toggle</a>, <a class="el" href="em__usb_8h_source.html#l00062">USB_SETUP_DIR_H2D</a>, <a class="el" href="em__usb_8h_source.html#l00073">USB_SETUP_RECIPIENT_DEVICE</a>, <a class="el" href="em__usb_8h_source.html#l00068">USB_SETUP_TYPE_STANDARD_MASK</a>, <a class="el" href="em__usb_8h_source.html#l00323">USB_STATUS_ILLEGAL</a>, <a class="el" href="em__usb_8h_source.html#l00319">USB_STATUS_OK</a>, and <a class="el" href="em__usbh_8c_source.html#l00357">USBH_ControlMsgB()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="group__USB__HOST_ga0f156ce4b8660203cf4957c019064d9f_cgraph.png" border="0" usemap="#group__USB__HOST_ga0f156ce4b8660203cf4957c019064d9f_cgraph_map" alt=""></div>
<map name="group__USB__HOST_ga0f156ce4b8660203cf4957c019064d9f_cgraph_map" id="group__USB__HOST_ga0f156ce4b8660203cf4957c019064d9f_cgraph">
<area shape="rect" id="node2" href="group__USB__HOST.html#gad94fe14defe6b7e33472364c65f07f17" title="Send a SETUP command to a device, blocking version." alt="" coords="219,31,362,57"/><area shape="rect" id="node3" href="group__USB__HOST.html#ga0b43c59fc9d3c91d0039f761ef4d6333" title="Send a SETUP command to a device, non&#45;blocking version." alt="" coords="411,31,546,57"/><area shape="rect" id="node4" href="group__USB__HOST.html#gaf791f134a36bb5376abaf59c45b84e84" title="Check if a device is connected." alt="" coords="595,5,773,32"/><area shape="rect" id="node5" href="group__USB__COMMON.html#gac2a406f16d989b04c4fc5b37d5c10b45" title="Start a timer." alt="" coords="623,56,745,83"/><area shape="rect" id="node6" href="group__USB__COMMON.html#gab73c922427cf0d509788a8063451703f" title="Stop a timer." alt="" coords="821,56,941,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga6938e5856e9d28116922070621be36a5"></a><!-- doxytag: member="em_usb.h::USBH_SetConfigurationB" ref="ga6938e5856e9d28116922070621be36a5" args="(USBH_Device_TypeDef *device, uint8_t configValue)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int USBH_SetConfigurationB </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structUSBH__Device__TypeDef.html">USBH_Device_TypeDef</a> *&nbsp;</td>
          <td class="paramname"> <em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>configValue</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Activate a device configuration. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>This command will move the device to the configured state. <br/>
 This function is blocking and will not return before the transfer has completed, timed out (1 second) or failed.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>device</em>&nbsp;</td><td>Pointer to a <a class="el" href="structUSBH__Device__TypeDef.html">USBH_Device_TypeDef</a> data structure.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>configValue</em>&nbsp;</td><td>The configuration value. The value can be retrieved from device-&gt;confDesc.bConfigurationValue</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="group__USB__COMMON.html#gga889b575b566a663621c33eebf46272c1a7fc3604700f290c08102ab7a60dbeac2">USB_STATUS_OK</a> on success, else an appropriate error code. </dd></dl>

<p>Definition at line <a class="el" href="em__usbh_8c_source.html#l01946">1946</a> of file <a class="el" href="em__usbh_8c_source.html">em_usbh.c</a>.</p>

<p>References <a class="el" href="em__usb_8h_source.html#l00895">USBH_Device_TypeDef::ep</a>, <a class="el" href="em__usb_8h_source.html#l00894">USBH_Device_TypeDef::ep0</a>, <a class="el" href="em__usb_8h_source.html#l00896">USBH_Device_TypeDef::numEp</a>, <a class="el" href="em__usb_8h_source.html#l00086">SET_CONFIGURATION</a>, <a class="el" href="em__usb_8h_source.html#l00873">USBH_Ep_TypeDef::toggle</a>, <a class="el" href="em__usb_8h_source.html#l00062">USB_SETUP_DIR_H2D</a>, <a class="el" href="em__usb_8h_source.html#l00073">USB_SETUP_RECIPIENT_DEVICE</a>, <a class="el" href="em__usb_8h_source.html#l00068">USB_SETUP_TYPE_STANDARD_MASK</a>, <a class="el" href="em__usb_8h_source.html#l00323">USB_STATUS_ILLEGAL</a>, <a class="el" href="em__usb_8h_source.html#l00319">USB_STATUS_OK</a>, and <a class="el" href="em__usbh_8c_source.html#l00357">USBH_ControlMsgB()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="group__USB__HOST_ga6938e5856e9d28116922070621be36a5_cgraph.png" border="0" usemap="#group__USB__HOST_ga6938e5856e9d28116922070621be36a5_cgraph_map" alt=""></div>
<map name="group__USB__HOST_ga6938e5856e9d28116922070621be36a5_cgraph_map" id="group__USB__HOST_ga6938e5856e9d28116922070621be36a5_cgraph">
<area shape="rect" id="node2" href="group__USB__HOST.html#gad94fe14defe6b7e33472364c65f07f17" title="Send a SETUP command to a device, blocking version." alt="" coords="233,31,375,57"/><area shape="rect" id="node3" href="group__USB__HOST.html#ga0b43c59fc9d3c91d0039f761ef4d6333" title="Send a SETUP command to a device, non&#45;blocking version." alt="" coords="425,31,559,57"/><area shape="rect" id="node4" href="group__USB__HOST.html#gaf791f134a36bb5376abaf59c45b84e84" title="Check if a device is connected." alt="" coords="608,5,787,32"/><area shape="rect" id="node5" href="group__USB__COMMON.html#gac2a406f16d989b04c4fc5b37d5c10b45" title="Start a timer." alt="" coords="637,56,758,83"/><area shape="rect" id="node6" href="group__USB__COMMON.html#gab73c922427cf0d509788a8063451703f" title="Stop a timer." alt="" coords="835,56,955,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga547d9df531d791c90fd6f44d28e7089a"></a><!-- doxytag: member="em_usb.h::USBH_StallEpB" ref="ga547d9df531d791c90fd6f44d28e7089a" args="(USBH_Ep_TypeDef *ep)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int USBH_StallEpB </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structUSBH__Ep__TypeDef.html">USBH_Ep_TypeDef</a> *&nbsp;</td>
          <td class="paramname"> <em>ep</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set an endpoint in the stalled (halted) state. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>This function is blocking and will not return before the transfer has completed, timed out (1 second) or failed.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>ep</em>&nbsp;</td><td>Pointer to a <a class="el" href="structUSBH__Ep__TypeDef.html">USBH_Ep_TypeDef</a> data structure.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="group__USB__COMMON.html#gga889b575b566a663621c33eebf46272c1a7fc3604700f290c08102ab7a60dbeac2">USB_STATUS_OK</a> on success, else an appropriate error code. </dd></dl>

<p>Definition at line <a class="el" href="em__usbh_8c_source.html#l01999">1999</a> of file <a class="el" href="em__usbh_8c_source.html">em_usbh.c</a>.</p>

<p>References <a class="el" href="em__usb_8h_source.html#l00875">USBH_Ep_TypeDef::addr</a>, <a class="el" href="em__usb_8h_source.html#l00894">USBH_Device_TypeDef::ep0</a>, <a class="el" href="em__usb_8h_source.html#l00867">USBH_Ep_TypeDef::parentDevice</a>, <a class="el" href="em__usb_8h_source.html#l00081">SET_FEATURE</a>, <a class="el" href="em__usb_8h_source.html#l00191">USB_FEATURE_ENDPOINT_HALT</a>, <a class="el" href="em__usb_8h_source.html#l00062">USB_SETUP_DIR_H2D</a>, <a class="el" href="em__usb_8h_source.html#l00075">USB_SETUP_RECIPIENT_ENDPOINT</a>, <a class="el" href="em__usb_8h_source.html#l00068">USB_SETUP_TYPE_STANDARD_MASK</a>, <a class="el" href="em__usb_8h_source.html#l00323">USB_STATUS_ILLEGAL</a>, and <a class="el" href="em__usbh_8c_source.html#l00357">USBH_ControlMsgB()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="group__USB__HOST_ga547d9df531d791c90fd6f44d28e7089a_cgraph.png" border="0" usemap="#group__USB__HOST_ga547d9df531d791c90fd6f44d28e7089a_cgraph_map" alt=""></div>
<map name="group__USB__HOST_ga547d9df531d791c90fd6f44d28e7089a_cgraph_map" id="group__USB__HOST_ga547d9df531d791c90fd6f44d28e7089a_cgraph">
<area shape="rect" id="node2" href="group__USB__HOST.html#gad94fe14defe6b7e33472364c65f07f17" title="Send a SETUP command to a device, blocking version." alt="" coords="169,31,311,57"/><area shape="rect" id="node3" href="group__USB__HOST.html#ga0b43c59fc9d3c91d0039f761ef4d6333" title="Send a SETUP command to a device, non&#45;blocking version." alt="" coords="361,31,495,57"/><area shape="rect" id="node4" href="group__USB__HOST.html#gaf791f134a36bb5376abaf59c45b84e84" title="Check if a device is connected." alt="" coords="544,5,723,32"/><area shape="rect" id="node5" href="group__USB__COMMON.html#gac2a406f16d989b04c4fc5b37d5c10b45" title="Start a timer." alt="" coords="573,56,694,83"/><area shape="rect" id="node6" href="group__USB__COMMON.html#gab73c922427cf0d509788a8063451703f" title="Stop a timer." alt="" coords="771,56,891,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga154c6b268f2d39d4e1577f917e0da239"></a><!-- doxytag: member="em_usb.h::USBH_Stop" ref="ga154c6b268f2d39d4e1577f917e0da239" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USBH_Stop </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Stop USB host operation. </p>
<p>USB host operation is terminated and VBUS on the port is turned off. </p>

<p>Definition at line <a class="el" href="em__usbh_8c_source.html#l02026">2026</a> of file <a class="el" href="em__usbh_8c_source.html">em_usbh.c</a>.</p>

<p>References <a class="el" href="em__usbtimer_8c_source.html#l00302">USBTIMER_Stop()</a>.</p>

<p>Referenced by <a class="el" href="em__usbh_8c_source.html#l02136">USBH_WaitForDeviceConnectionB()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="group__USB__HOST_ga154c6b268f2d39d4e1577f917e0da239_cgraph.png" border="0" usemap="#group__USB__HOST_ga154c6b268f2d39d4e1577f917e0da239_cgraph_map" alt=""></div>
<map name="group__USB__HOST_ga154c6b268f2d39d4e1577f917e0da239_cgraph_map" id="group__USB__HOST_ga154c6b268f2d39d4e1577f917e0da239_cgraph">
<area shape="rect" id="node2" href="group__USB__COMMON.html#gab73c922427cf0d509788a8063451703f" title="Stop a timer." alt="" coords="144,5,264,32"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="group__USB__HOST_ga154c6b268f2d39d4e1577f917e0da239_icgraph.png" border="0" usemap="#group__USB__HOST_ga154c6b268f2d39d4e1577f917e0da239_icgraph_map" alt=""></div>
<map name="group__USB__HOST_ga154c6b268f2d39d4e1577f917e0da239_icgraph_map" id="group__USB__HOST_ga154c6b268f2d39d4e1577f917e0da239_icgraph">
<area shape="rect" id="node2" href="group__USB__HOST.html#ga62f99f2ed786c98d00935fc2fd140aaf" title="Wait for device connection." alt="" coords="144,5,381,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gabf8fcc4a69080f3d1005d1bc21d44218"></a><!-- doxytag: member="em_usb.h::USBH_UnStallEpB" ref="gabf8fcc4a69080f3d1005d1bc21d44218" args="(USBH_Ep_TypeDef *ep)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int USBH_UnStallEpB </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structUSBH__Ep__TypeDef.html">USBH_Ep_TypeDef</a> *&nbsp;</td>
          <td class="paramname"> <em>ep</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reset stall state on a stalled (halted) endpoint. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>This function is blocking and will not return before the transfer has completed, timed out (1 second) or failed.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>ep</em>&nbsp;</td><td>Pointer to a <a class="el" href="structUSBH__Ep__TypeDef.html">USBH_Ep_TypeDef</a> data structure.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="group__USB__COMMON.html#gga889b575b566a663621c33eebf46272c1a7fc3604700f290c08102ab7a60dbeac2">USB_STATUS_OK</a> on success, else an appropriate error code. </dd></dl>

<p>Definition at line <a class="el" href="em__usbh_8c_source.html#l02058">2058</a> of file <a class="el" href="em__usbh_8c_source.html">em_usbh.c</a>.</p>

<p>References <a class="el" href="em__usb_8h_source.html#l00875">USBH_Ep_TypeDef::addr</a>, <a class="el" href="em__usb_8h_source.html#l00080">CLEAR_FEATURE</a>, <a class="el" href="em__usb_8h_source.html#l00894">USBH_Device_TypeDef::ep0</a>, <a class="el" href="em__usb_8h_source.html#l00867">USBH_Ep_TypeDef::parentDevice</a>, <a class="el" href="em__usb_8h_source.html#l00873">USBH_Ep_TypeDef::toggle</a>, <a class="el" href="em__usb_8h_source.html#l00191">USB_FEATURE_ENDPOINT_HALT</a>, <a class="el" href="em__usb_8h_source.html#l00062">USB_SETUP_DIR_H2D</a>, <a class="el" href="em__usb_8h_source.html#l00075">USB_SETUP_RECIPIENT_ENDPOINT</a>, <a class="el" href="em__usb_8h_source.html#l00068">USB_SETUP_TYPE_STANDARD_MASK</a>, <a class="el" href="em__usb_8h_source.html#l00323">USB_STATUS_ILLEGAL</a>, <a class="el" href="em__usb_8h_source.html#l00319">USB_STATUS_OK</a>, and <a class="el" href="em__usbh_8c_source.html#l00357">USBH_ControlMsgB()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="group__USB__HOST_gabf8fcc4a69080f3d1005d1bc21d44218_cgraph.png" border="0" usemap="#group__USB__HOST_gabf8fcc4a69080f3d1005d1bc21d44218_cgraph_map" alt=""></div>
<map name="group__USB__HOST_gabf8fcc4a69080f3d1005d1bc21d44218_cgraph_map" id="group__USB__HOST_gabf8fcc4a69080f3d1005d1bc21d44218_cgraph">
<area shape="rect" id="node2" href="group__USB__HOST.html#gad94fe14defe6b7e33472364c65f07f17" title="Send a SETUP command to a device, blocking version." alt="" coords="185,31,327,57"/><area shape="rect" id="node3" href="group__USB__HOST.html#ga0b43c59fc9d3c91d0039f761ef4d6333" title="Send a SETUP command to a device, non&#45;blocking version." alt="" coords="377,31,511,57"/><area shape="rect" id="node4" href="group__USB__HOST.html#gaf791f134a36bb5376abaf59c45b84e84" title="Check if a device is connected." alt="" coords="560,5,739,32"/><area shape="rect" id="node5" href="group__USB__COMMON.html#gac2a406f16d989b04c4fc5b37d5c10b45" title="Start a timer." alt="" coords="589,56,710,83"/><area shape="rect" id="node6" href="group__USB__COMMON.html#gab73c922427cf0d509788a8063451703f" title="Stop a timer." alt="" coords="787,56,907,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga62f99f2ed786c98d00935fc2fd140aaf"></a><!-- doxytag: member="em_usb.h::USBH_WaitForDeviceConnectionB" ref="ga62f99f2ed786c98d00935fc2fd140aaf" args="(uint8_t *buf, int timeoutInSeconds)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int USBH_WaitForDeviceConnectionB </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>timeoutInSeconds</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Wait for device connection. </p>
<p>This function will wait for device connection and try to read the 8 first bytes of the device descriptor. <br/>
 First the USB peripheral is initializet (reset) and VBUS is turned on. When a device is connected, an USB reset will be signalled on the USB port, and then a USB GetDescriptor command is performed. <br/>
 This procedure is repeated until success or timeout. On each iteration the duration of USB reset signalling is varied.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>buf</em>&nbsp;</td><td>A data buffer with sufficent space for retrieving the first 8 bytes of a device descriptor. The data buffer size must be sizeof( <a class="el" href="structUSBH__Device__TypeDef.html">USBH_Device_TypeDef</a> ) + 8.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>timeoutInSeconds</em>&nbsp;</td><td>Timeout in seconds. A value of 0 means infinite.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Returns <a class="el" href="group__USB__COMMON.html#gga889b575b566a663621c33eebf46272c1a7fc3604700f290c08102ab7a60dbeac2">USB_STATUS_OK</a> on success, <a class="el" href="group__USB__COMMON.html#gga889b575b566a663621c33eebf46272c1a69c65b08dff316759c941351aa70a905">USB_STATUS_TIMEOUT</a> on timeout, <a class="el" href="group__USB__COMMON.html#gga889b575b566a663621c33eebf46272c1aa9c73dd98ee624ee7d4b8f7c2ec7206b">USB_STATUS_DEVICE_MALFUNCTION</a> if a device was attached but USB communications could not be succesfully established with the device, or <a class="el" href="group__USB__COMMON.html#gga889b575b566a663621c33eebf46272c1aa84fb30ea08f226b475c1bb137483023">USB_STATUS_PORT_OVERCURRENT</a> if a VBUS overcurrent condition exist. </dd></dl>

<p>Definition at line <a class="el" href="em__usbh_8c_source.html#l02136">2136</a> of file <a class="el" href="em__usbh_8c_source.html">em_usbh.c</a>.</p>

<p>References <a class="el" href="em__usb_8h_source.html#l00891">USBH_Device_TypeDef::devDesc</a>, <a class="el" href="em__usb_8h_source.html#l00334">USB_STATUS_DEVICE_MALFUNCTION</a>, <a class="el" href="em__usb_8h_source.html#l00323">USB_STATUS_ILLEGAL</a>, <a class="el" href="em__usb_8h_source.html#l00319">USB_STATUS_OK</a>, <a class="el" href="em__usb_8h_source.html#l00335">USB_STATUS_PORT_OVERCURRENT</a>, <a class="el" href="em__usb_8h_source.html#l00331">USB_STATUS_TIMEOUT</a>, <a class="el" href="em__usbh_8c_source.html#l00602">USBH_DeviceConnected()</a>, <a class="el" href="em__usbh_8c_source.html#l00694">USBH_GetDeviceDescriptorB()</a>, <a class="el" href="em__usbh_8c_source.html#l00731">USBH_GetPortSpeed()</a>, <a class="el" href="em__usbh_8c_source.html#l00895">USBH_InitDeviceData()</a>, <a class="el" href="em__usbh_8c_source.html#l02026">USBH_Stop()</a>, <a class="el" href="em__usbtimer_8c_source.html#l00135">USBTIMER_DelayMs()</a>, and <a class="el" href="em__usbtimer_8c_source.html#l00302">USBTIMER_Stop()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="group__USB__HOST_ga62f99f2ed786c98d00935fc2fd140aaf_cgraph.png" border="0" usemap="#group__USB__HOST_ga62f99f2ed786c98d00935fc2fd140aaf_cgraph_map" alt=""></div>
<map name="group__USB__HOST_ga62f99f2ed786c98d00935fc2fd140aaf_cgraph_map" id="group__USB__HOST_ga62f99f2ed786c98d00935fc2fd140aaf_cgraph">
<area shape="rect" id="node2" href="group__USB__HOST.html#gaf791f134a36bb5376abaf59c45b84e84" title="Check if a device is connected." alt="" coords="1112,48,1291,75"/><area shape="rect" id="node3" href="group__USB__HOST.html#ga2656404a391e6894b03dde7d42d11f4f" title="Read a device descriptor from a device." alt="" coords="291,99,495,125"/><area shape="rect" id="node7" href="group__USB__COMMON.html#gab73c922427cf0d509788a8063451703f" title="Stop a timer." alt="" coords="1417,99,1537,125"/><area shape="rect" id="node8" href="group__USB__HOST.html#gad011363a4aa7f78c702a361bcebe67fb" title="Get the bus speed of the device attached to the USB port." alt="" coords="319,149,468,176"/><area shape="rect" id="node9" href="group__USB__HOST.html#ga50dc10ac598c6c8479319ff58c186266" title="Populate device and endpoint data structures with data retrieved during device enumeration..." alt="" coords="315,251,471,277"/><area shape="rect" id="node14" href="group__USB__HOST.html#ga154c6b268f2d39d4e1577f917e0da239" title="Stop USB host operation." alt="" coords="608,149,699,176"/><area shape="rect" id="node15" href="group__USB__COMMON.html#gabb1c11cad365c7c3b99a3e7826035951" title="Active wait millisecond delay function." alt="" coords="320,301,467,328"/><area shape="rect" id="node4" href="group__USB__HOST.html#gad94fe14defe6b7e33472364c65f07f17" title="Send a SETUP command to a device, blocking version." alt="" coords="582,99,725,125"/><area shape="rect" id="node5" href="group__USB__HOST.html#ga0b43c59fc9d3c91d0039f761ef4d6333" title="Send a SETUP command to a device, non&#45;blocking version." alt="" coords="853,99,987,125"/><area shape="rect" id="node6" href="group__USB__COMMON.html#gac2a406f16d989b04c4fc5b37d5c10b45" title="Start a timer." alt="" coords="1141,99,1262,125"/><area shape="rect" id="node10" href="group__USB__HOST.html#ga10e6eb1a2e9802af4ec16254e3d44783" title="Return a pointer to an endpoint descriptor." alt="" coords="545,276,762,303"/><area shape="rect" id="node11" href="group__USB__HOST.html#gabd04b4b1ea26459d6db42aa77b6d592d" title="Return a pointer to an interface descriptor." alt="" coords="811,251,1029,277"/><area shape="rect" id="node12" href="group__USB__HOST.html#ga2ac91d938f8553e31913afdb8d8d80dc" title="Return a pointer to a configuration descriptor." alt="" coords="1077,251,1325,277"/><area shape="rect" id="node13" href="group__USB__HOST.html#ga4d6a8d78ebde4e394bb25aa62a871b30" title="Return a pointer to the device descriptor." alt="" coords="1374,251,1581,277"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga0c9fcc6a9f2db01206c010330b6e41f6"></a><!-- doxytag: member="em_usb.h::USBH_Write" ref="ga0c9fcc6a9f2db01206c010330b6e41f6" args="(USBH_Ep_TypeDef *ep, void *data, int byteCount, int timeout, USB_XferCompleteCb_TypeDef callback)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int USBH_Write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structUSBH__Ep__TypeDef.html">USBH_Ep_TypeDef</a> *&nbsp;</td>
          <td class="paramname"> <em>ep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>byteCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>timeout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__USB__COMMON.html#ga521fe3060be2a8de6fdd5ee01193958b">USB_XferCompleteCb_TypeDef</a>&nbsp;</td>
          <td class="paramname"> <em>callback</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Write data to device endpoint, non-blocking version. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>The transfer buffer length must be a multiple of 4 bytes in length and WORD (4 byte) aligned. When allocating the buffer, round buffer length up. <br/>
 This function is non-blocking and returns immediately.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>ep</em>&nbsp;</td><td>Pointer to a <a class="el" href="structUSBH__Ep__TypeDef.html">USBH_Ep_TypeDef</a> data structure.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>data</em>&nbsp;</td><td>Pointer to transfer data buffer.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>byteCount</em>&nbsp;</td><td>Number of bytes to transfer (zero is a valid value).</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>timeout</em>&nbsp;</td><td>Transfer timeout in milliseconds. The transfer will be terminated if not completed within <em>timeout</em> milliseconds. A value of 0 means infinite.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>callback</em>&nbsp;</td><td>Function to be called on transfer completion. Supply NULL if no callback is needed. See <a class="el" href="group__USB__COMMON.html#ga521fe3060be2a8de6fdd5ee01193958b">USB_XferCompleteCb_TypeDef</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="group__USB__COMMON.html#gga889b575b566a663621c33eebf46272c1a7fc3604700f290c08102ab7a60dbeac2">USB_STATUS_OK</a> on success, else an appropriate error code. </dd></dl>

<p>Definition at line <a class="el" href="em__usbh_8c_source.html#l02286">2286</a> of file <a class="el" href="em__usbh_8c_source.html">em_usbh.c</a>.</p>

<p>References <a class="el" href="em__usb_8h_source.html#l00505">USB_EndpointDescriptor_TypeDef::bInterval</a>, <a class="el" href="em__usb_8h_source.html#l00876">USBH_Ep_TypeDef::buf</a>, <a class="el" href="em__usb_8h_source.html#l00866">USBH_Ep_TypeDef::epDesc</a>, <a class="el" href="em__usb_8h_source.html#l00853">H_EP_DATA_OUT</a>, <a class="el" href="em__usb_8h_source.html#l00850">H_EP_IDLE</a>, <a class="el" href="em__usb_8h_source.html#l00870">USBH_Ep_TypeDef::hcOut</a>, <a class="el" href="em__usb_8h_source.html#l00872">USBH_Ep_TypeDef::in</a>, <a class="el" href="em__usb_8h_source.html#l00869">USBH_Ep_TypeDef::packetSize</a>, <a class="el" href="em__usb_8h_source.html#l00881">USBH_Ep_TypeDef::remaining</a>, <a class="el" href="em__usb_8h_source.html#l00874">USBH_Ep_TypeDef::state</a>, <a class="el" href="em__usb_8h_source.html#l00882">USBH_Ep_TypeDef::timeout</a>, <a class="el" href="em__usb_8h_source.html#l00868">USBH_Ep_TypeDef::type</a>, <a class="el" href="em__usb_8h_source.html#l00172">USB_EPTYPE_INTR</a>, <a class="el" href="em__usb_8h_source.html#l00321">USB_STATUS_EP_BUSY</a>, <a class="el" href="em__usb_8h_source.html#l00333">USB_STATUS_HC_BUSY</a>, <a class="el" href="em__usb_8h_source.html#l00323">USB_STATUS_ILLEGAL</a>, <a class="el" href="em__usb_8h_source.html#l00319">USB_STATUS_OK</a>, <a class="el" href="em__usbh_8c_source.html#l00602">USBH_DeviceConnected()</a>, <a class="el" href="em__usbtimer_8c_source.html#l00234">USBTIMER_Start()</a>, <a class="el" href="em__usb_8h_source.html#l00879">USBH_Ep_TypeDef::xferCompleteCb</a>, <a class="el" href="em__usb_8h_source.html#l00877">USBH_Ep_TypeDef::xferCompleted</a>, and <a class="el" href="em__usb_8h_source.html#l00880">USBH_Ep_TypeDef::xferred</a>.</p>

<p>Referenced by <a class="el" href="em__usbh_8c_source.html#l02406">USBH_WriteB()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="group__USB__HOST_ga0c9fcc6a9f2db01206c010330b6e41f6_cgraph.png" border="0" usemap="#group__USB__HOST_ga0c9fcc6a9f2db01206c010330b6e41f6_cgraph_map" alt=""></div>
<map name="group__USB__HOST_ga0c9fcc6a9f2db01206c010330b6e41f6_cgraph_map" id="group__USB__HOST_ga0c9fcc6a9f2db01206c010330b6e41f6_cgraph">
<area shape="rect" id="node2" href="group__USB__HOST.html#gaf791f134a36bb5376abaf59c45b84e84" title="Check if a device is connected." alt="" coords="149,5,328,32"/><area shape="rect" id="node3" href="group__USB__COMMON.html#gac2a406f16d989b04c4fc5b37d5c10b45" title="Start a timer." alt="" coords="178,56,299,83"/><area shape="rect" id="node4" href="group__USB__COMMON.html#gab73c922427cf0d509788a8063451703f" title="Stop a timer." alt="" coords="376,56,496,83"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="group__USB__HOST_ga0c9fcc6a9f2db01206c010330b6e41f6_icgraph.png" border="0" usemap="#group__USB__HOST_ga0c9fcc6a9f2db01206c010330b6e41f6_icgraph_map" alt=""></div>
<map name="group__USB__HOST_ga0c9fcc6a9f2db01206c010330b6e41f6_icgraph_map" id="group__USB__HOST_ga0c9fcc6a9f2db01206c010330b6e41f6_icgraph">
<area shape="rect" id="node2" href="group__USB__HOST.html#ga27c7b3b7944f7f1b8e4327dd66fa7ff8" title="Write data to device endpoint, blocking version." alt="" coords="149,5,253,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga27c7b3b7944f7f1b8e4327dd66fa7ff8"></a><!-- doxytag: member="em_usb.h::USBH_WriteB" ref="ga27c7b3b7944f7f1b8e4327dd66fa7ff8" args="(USBH_Ep_TypeDef *ep, void *data, int byteCount, int timeout)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int USBH_WriteB </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structUSBH__Ep__TypeDef.html">USBH_Ep_TypeDef</a> *&nbsp;</td>
          <td class="paramname"> <em>ep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>byteCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>timeout</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Write data to device endpoint, blocking version. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>The transfer buffer length must be a multiple of 4 bytes in length and WORD (4 byte) aligned. When allocating the buffer, round buffer length up. <br/>
 This function is blocking and will not return before the transfer has completed, timed out or failed.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>ep</em>&nbsp;</td><td>Pointer to a <a class="el" href="structUSBH__Ep__TypeDef.html">USBH_Ep_TypeDef</a> data structure.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>data</em>&nbsp;</td><td>Pointer to transfer data buffer.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>byteCount</em>&nbsp;</td><td>Number of bytes to transfer (zero is a valid value).</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>timeout</em>&nbsp;</td><td>Transfer timeout in milliseconds. The transfer will be terminated if not completed within <em>timeout</em> milliseconds. A value of 0 means infinite.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A positive (or zero) value indicates number of bytes transferred. <br/>
 A negative value indicates a transfer error code enumerated in <a class="el" href="group__USB__COMMON.html#ga889b575b566a663621c33eebf46272c1">USB_Status_TypeDef</a>. </dd></dl>

<p>Definition at line <a class="el" href="em__usbh_8c_source.html#l02406">2406</a> of file <a class="el" href="em__usbh_8c_source.html">em_usbh.c</a>.</p>

<p>References <a class="el" href="em__usb_8h_source.html#l00323">USB_STATUS_ILLEGAL</a>, <a class="el" href="em__usb_8h_source.html#l00319">USB_STATUS_OK</a>, <a class="el" href="em__usbh_8c_source.html#l02286">USBH_Write()</a>, <a class="el" href="em__usb_8h_source.html#l00877">USBH_Ep_TypeDef::xferCompleted</a>, <a class="el" href="em__usb_8h_source.html#l00880">USBH_Ep_TypeDef::xferred</a>, and <a class="el" href="em__usb_8h_source.html#l00878">USBH_Ep_TypeDef::xferStatus</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="group__USB__HOST_ga27c7b3b7944f7f1b8e4327dd66fa7ff8_cgraph.png" border="0" usemap="#group__USB__HOST_ga27c7b3b7944f7f1b8e4327dd66fa7ff8_cgraph_map" alt=""></div>
<map name="group__USB__HOST_ga27c7b3b7944f7f1b8e4327dd66fa7ff8_cgraph_map" id="group__USB__HOST_ga27c7b3b7944f7f1b8e4327dd66fa7ff8_cgraph">
<area shape="rect" id="node2" href="group__USB__HOST.html#ga0c9fcc6a9f2db01206c010330b6e41f6" title="Write data to device endpoint, non&#45;blocking version." alt="" coords="157,31,253,57"/><area shape="rect" id="node3" href="group__USB__HOST.html#gaf791f134a36bb5376abaf59c45b84e84" title="Check if a device is connected." alt="" coords="301,5,480,32"/><area shape="rect" id="node4" href="group__USB__COMMON.html#gac2a406f16d989b04c4fc5b37d5c10b45" title="Start a timer." alt="" coords="330,56,451,83"/><area shape="rect" id="node5" href="group__USB__COMMON.html#gab73c922427cf0d509788a8063451703f" title="Stop a timer." alt="" coords="528,56,648,83"/></map>
</div>
</p>

</div>
</div>
</div>
<div id="footer">
<hr size="1"><address style="text-align: right;"><small>
Generated on Thu May 28 06:13:34 2015</small> for Silicon Labs EFM32 USB Stack by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a><small> 1.6.3 </small></address></div>
</body>
</html>
